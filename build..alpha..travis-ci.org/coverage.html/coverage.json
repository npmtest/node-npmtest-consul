{"/home/travis/build/npmtest/node-npmtest-consul/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_consul */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-consul/lib.npmtest_consul.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/lib.npmtest_consul.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":51}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":57}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_consul */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_consul = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_consul = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-consul/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":50}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":64},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-consul && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_consul */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_consul","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_consul.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_consul.rollup.js'] =","            local.assetsDict['/assets.npmtest_consul.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_consul.__dirname + '/lib.npmtest_consul.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/index.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"2":{"start":{"line":17,"column":0},"end":{"line":17,"column":24}}},"branchMap":{},"code":["/**"," * Module index"," */","","'use strict';","","/**"," * Module dependencies."," */","","var Consul = require('./consul').Consul;","","/**"," * Module exports."," */","","module.exports = Consul;",""],"l":{"11":1,"17":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/consul.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/consul.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":0,"69":1,"70":1,"71":0,"72":1,"73":1,"74":0,"75":1,"76":1,"77":0,"78":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"Consul","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":22}}},"2":{"name":"(anonymous_2)","line":51,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":52}}},"3":{"name":"(anonymous_3)","line":113,"loc":{"start":{"line":113,"column":24},"end":{"line":113,"column":39}}},"4":{"name":"(anonymous_4)","line":123,"loc":{"start":{"line":123,"column":25},"end":{"line":123,"column":40}}},"5":{"name":"(anonymous_5)","line":133,"loc":{"start":{"line":133,"column":38},"end":{"line":133,"column":49}}},"6":{"name":"(anonymous_6)","line":143,"loc":{"start":{"line":143,"column":58},"end":{"line":143,"column":72}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":27}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":31}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":37}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":43}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":37}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":28}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":34}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":37}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":43}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":40}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":37}},"14":{"start":{"line":25,"column":0},"end":{"line":25,"column":39}},"15":{"start":{"line":26,"column":0},"end":{"line":26,"column":31}},"16":{"start":{"line":32,"column":0},"end":{"line":85,"column":1}},"17":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":28}},"19":{"start":{"line":37,"column":2},"end":{"line":37,"column":34}},"20":{"start":{"line":39,"column":2},"end":{"line":43,"column":3}},"21":{"start":{"line":40,"column":4},"end":{"line":42,"column":36}},"22":{"start":{"line":44,"column":2},"end":{"line":44,"column":23}},"23":{"start":{"line":45,"column":2},"end":{"line":45,"column":21}},"24":{"start":{"line":47,"column":2},"end":{"line":58,"column":3}},"25":{"start":{"line":48,"column":4},"end":{"line":48,"column":57}},"26":{"start":{"line":49,"column":4},"end":{"line":49,"column":17}},"27":{"start":{"line":51,"column":4},"end":{"line":55,"column":7}},"28":{"start":{"line":52,"column":6},"end":{"line":52,"column":51}},"29":{"start":{"line":52,"column":44},"end":{"line":52,"column":51}},"30":{"start":{"line":53,"column":6},"end":{"line":53,"column":35}},"31":{"start":{"line":53,"column":21},"end":{"line":53,"column":35}},"32":{"start":{"line":54,"column":6},"end":{"line":54,"column":39}},"33":{"start":{"line":57,"column":4},"end":{"line":57,"column":44}},"34":{"start":{"line":57,"column":18},"end":{"line":57,"column":44}},"35":{"start":{"line":59,"column":2},"end":{"line":59,"column":23}},"36":{"start":{"line":61,"column":2},"end":{"line":61,"column":31}},"37":{"start":{"line":63,"column":2},"end":{"line":63,"column":34}},"38":{"start":{"line":64,"column":2},"end":{"line":64,"column":38}},"39":{"start":{"line":65,"column":2},"end":{"line":65,"column":42}},"40":{"start":{"line":66,"column":2},"end":{"line":66,"column":38}},"41":{"start":{"line":67,"column":2},"end":{"line":67,"column":40}},"42":{"start":{"line":68,"column":2},"end":{"line":68,"column":32}},"43":{"start":{"line":69,"column":2},"end":{"line":69,"column":38}},"44":{"start":{"line":70,"column":2},"end":{"line":70,"column":42}},"45":{"start":{"line":71,"column":2},"end":{"line":71,"column":40}},"46":{"start":{"line":73,"column":2},"end":{"line":84,"column":3}},"47":{"start":{"line":74,"column":4},"end":{"line":80,"column":5}},"48":{"start":{"line":75,"column":6},"end":{"line":79,"column":7}},"49":{"start":{"line":76,"column":8},"end":{"line":76,"column":51}},"50":{"start":{"line":78,"column":8},"end":{"line":78,"column":35}},"51":{"start":{"line":82,"column":4},"end":{"line":82,"column":46}},"52":{"start":{"line":83,"column":4},"end":{"line":83,"column":14}},"53":{"start":{"line":87,"column":0},"end":{"line":87,"column":35}},"54":{"start":{"line":89,"column":0},"end":{"line":89,"column":17}},"55":{"start":{"line":90,"column":0},"end":{"line":90,"column":21}},"56":{"start":{"line":91,"column":0},"end":{"line":91,"column":25}},"57":{"start":{"line":92,"column":0},"end":{"line":92,"column":21}},"58":{"start":{"line":93,"column":0},"end":{"line":93,"column":23}},"59":{"start":{"line":94,"column":0},"end":{"line":94,"column":15}},"60":{"start":{"line":95,"column":0},"end":{"line":95,"column":19}},"61":{"start":{"line":96,"column":0},"end":{"line":96,"column":21}},"62":{"start":{"line":97,"column":0},"end":{"line":97,"column":25}},"63":{"start":{"line":98,"column":0},"end":{"line":98,"column":23}},"64":{"start":{"line":99,"column":0},"end":{"line":99,"column":21}},"65":{"start":{"line":105,"column":0},"end":{"line":105,"column":17}},"66":{"start":{"line":111,"column":0},"end":{"line":111,"column":44}},"67":{"start":{"line":113,"column":0},"end":{"line":115,"column":2}},"68":{"start":{"line":114,"column":2},"end":{"line":114,"column":37}},"69":{"start":{"line":121,"column":0},"end":{"line":121,"column":45}},"70":{"start":{"line":123,"column":0},"end":{"line":125,"column":2}},"71":{"start":{"line":124,"column":2},"end":{"line":124,"column":38}},"72":{"start":{"line":131,"column":0},"end":{"line":131,"column":36}},"73":{"start":{"line":133,"column":0},"end":{"line":135,"column":2}},"74":{"start":{"line":134,"column":2},"end":{"line":134,"column":33}},"75":{"start":{"line":141,"column":0},"end":{"line":141,"column":46}},"76":{"start":{"line":143,"column":0},"end":{"line":145,"column":2}},"77":{"start":{"line":144,"column":2},"end":{"line":144,"column":35}},"78":{"start":{"line":151,"column":0},"end":{"line":151,"column":24}}},"branchMap":{"1":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":33,"column":2}},{"start":{"line":33,"column":2},"end":{"line":33,"column":2}}]},"2":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"3":{"line":40,"type":"cond-expr","locations":[{"start":{"line":40,"column":34},"end":{"line":40,"column":42}},{"start":{"line":40,"column":45},"end":{"line":40,"column":52}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":7},"end":{"line":41,"column":16}},{"start":{"line":41,"column":20},"end":{"line":41,"column":31}}]},"5":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":7},"end":{"line":42,"column":16}},{"start":{"line":42,"column":20},"end":{"line":42,"column":26}}]},"6":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]},"8":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"9":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"10":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":4},"end":{"line":74,"column":4}},{"start":{"line":74,"column":4},"end":{"line":74,"column":4}}]},"11":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":6},"end":{"line":75,"column":6}},{"start":{"line":75,"column":6},"end":{"line":75,"column":6}}]}},"code":["/**"," * Consul client"," */","","'use strict';","","/**"," * Module dependencies."," */","","var papi = require('papi');","var util = require('util');","","var Acl = require('./acl').Acl;","var Agent = require('./agent').Agent;","var Catalog = require('./catalog').Catalog;","var Event = require('./event').Event;","var Health = require('./health').Health;","var Kv = require('./kv').Kv;","var Lock = require('./lock').Lock;","var Query = require('./query').Query;","var Session = require('./session').Session;","var Status = require('./status').Status;","var Watch = require('./watch').Watch;","var constants = require('./constants');","var utils = require('./utils');","","/**"," * Initialize a new `Consul` client."," */","","function Consul(opts) {","  if (!(this instanceof Consul)) {","    return new Consul(opts);","  }","","  opts = utils.defaults({}, opts);","","  if (!opts.baseUrl) {","    opts.baseUrl = (opts.secure ? 'https:' : 'http:') + '//' +","      (opts.host || '127.0.0.1') + ':' +","      (opts.port || '8500') + '/v1';","  }","  opts.name = 'consul';","  opts.type = 'json';","","  if (opts.defaults) {","    var rawDefaults = utils.normalizeKeys(opts.defaults);","    var defaults;","","    constants.DEFAULT_OPTIONS.forEach(function(key) {","      if (!rawDefaults.hasOwnProperty(key)) return;","      if (!defaults) defaults = {};","      defaults[key] = rawDefaults[key];","    });","","    if (defaults) this._defaults = defaults;","  }","  delete opts.defaults;","","  papi.Client.call(this, opts);","","  this.acl = new Consul.Acl(this);","  this.agent = new Consul.Agent(this);","  this.catalog = new Consul.Catalog(this);","  this.event = new Consul.Event(this);","  this.health = new Consul.Health(this);","  this.kv = new Consul.Kv(this);","  this.query = new Consul.Query(this);","  this.session = new Consul.Session(this);","  this.status = new Consul.Status(this);","","  try {","    if (opts.promisify) {","      if (typeof opts.promisify === 'function') {","        papi.tools.promisify(this, opts.promisify);","      } else {","        papi.tools.promisify(this);","      }","    }","  } catch (err) {","    err.message = 'promisify: ' + err.message;","    throw err;","  }","}","","util.inherits(Consul, papi.Client);","","Consul.Acl = Acl;","Consul.Agent = Agent;","Consul.Catalog = Catalog;","Consul.Event = Event;","Consul.Health = Health;","Consul.Kv = Kv;","Consul.Lock = Lock;","Consul.Query = Query;","Consul.Session = Session;","Consul.Status = Status;","Consul.Watch = Watch;","","/**"," * Object meta"," */","","Consul.meta = {};","","/**"," * Lock helper."," */","","Consul.meta.lock = { type: 'eventemitter' };","","Consul.prototype.lock = function(opts) {","  return new Consul.Lock(this, opts);","};","","/**"," * Watch helper."," */","","Consul.meta.watch = { type: 'eventemitter' };","","Consul.prototype.watch = function(opts) {","  return new Consul.Watch(this, opts);","};","","/**"," * Walk methods"," */","","Consul.meta.walk = { type: 'sync' };","","Consul.walk = Consul.prototype.walk = function() {","  return papi.tools.walk(Consul);","};","","/**"," * Parse query meta"," */","","Consul.meta.parseQueryMeta = { type: 'sync' };","","Consul.parseQueryMeta = Consul.prototype.parseQueryMeta = function(res) {","  return utils.parseQueryMeta(res);","};","","/**"," * Module exports."," */","","exports.Consul = Consul;",""],"l":{"11":1,"12":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"32":1,"33":0,"34":0,"37":0,"39":0,"40":0,"44":0,"45":0,"47":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"57":0,"59":0,"61":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"74":0,"75":0,"76":0,"78":0,"82":0,"83":0,"87":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"105":1,"111":1,"113":1,"114":0,"121":1,"123":1,"124":0,"131":1,"133":1,"134":0,"141":1,"143":1,"144":0,"151":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/acl.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/acl.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"Acl","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":21}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":23},"end":{"line":26,"column":48}}},"3":{"name":"(anonymous_3)","line":56,"loc":{"start":{"line":56,"column":23},"end":{"line":56,"column":48}}},"4":{"name":"(anonymous_4)","line":87,"loc":{"start":{"line":87,"column":24},"end":{"line":87,"column":49}}},"5":{"name":"(anonymous_5)","line":115,"loc":{"start":{"line":115,"column":21},"end":{"line":115,"column":46}}},"6":{"name":"(anonymous_6)","line":145,"loc":{"start":{"line":145,"column":22},"end":{"line":145,"column":47}}},"7":{"name":"(anonymous_7)","line":173,"loc":{"start":{"line":173,"column":21},"end":{"line":173,"column":46}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":50,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":30,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":14}},"9":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"10":{"start":{"line":33,"column":2},"end":{"line":33,"column":53}},"11":{"start":{"line":35,"column":2},"end":{"line":41,"column":4}},"12":{"start":{"line":43,"column":2},"end":{"line":43,"column":43}},"13":{"start":{"line":43,"column":17},"end":{"line":43,"column":43}},"14":{"start":{"line":44,"column":2},"end":{"line":44,"column":43}},"15":{"start":{"line":44,"column":17},"end":{"line":44,"column":43}},"16":{"start":{"line":45,"column":2},"end":{"line":45,"column":46}},"17":{"start":{"line":45,"column":18},"end":{"line":45,"column":46}},"18":{"start":{"line":47,"column":2},"end":{"line":47,"column":27}},"19":{"start":{"line":49,"column":2},"end":{"line":49,"column":46}},"20":{"start":{"line":56,"column":0},"end":{"line":81,"column":2}},"21":{"start":{"line":57,"column":2},"end":{"line":57,"column":35}},"22":{"start":{"line":58,"column":2},"end":{"line":58,"column":53}},"23":{"start":{"line":60,"column":2},"end":{"line":66,"column":4}},"24":{"start":{"line":68,"column":2},"end":{"line":70,"column":3}},"25":{"start":{"line":69,"column":4},"end":{"line":69,"column":77}},"26":{"start":{"line":72,"column":2},"end":{"line":72,"column":24}},"27":{"start":{"line":74,"column":2},"end":{"line":74,"column":43}},"28":{"start":{"line":74,"column":17},"end":{"line":74,"column":43}},"29":{"start":{"line":75,"column":2},"end":{"line":75,"column":43}},"30":{"start":{"line":75,"column":17},"end":{"line":75,"column":43}},"31":{"start":{"line":76,"column":2},"end":{"line":76,"column":46}},"32":{"start":{"line":76,"column":18},"end":{"line":76,"column":46}},"33":{"start":{"line":78,"column":2},"end":{"line":78,"column":27}},"34":{"start":{"line":80,"column":2},"end":{"line":80,"column":47}},"35":{"start":{"line":87,"column":0},"end":{"line":109,"column":2}},"36":{"start":{"line":88,"column":2},"end":{"line":90,"column":3}},"37":{"start":{"line":89,"column":4},"end":{"line":89,"column":24}},"38":{"start":{"line":92,"column":2},"end":{"line":92,"column":35}},"39":{"start":{"line":93,"column":2},"end":{"line":93,"column":53}},"40":{"start":{"line":95,"column":2},"end":{"line":100,"column":4}},"41":{"start":{"line":102,"column":2},"end":{"line":104,"column":3}},"42":{"start":{"line":103,"column":4},"end":{"line":103,"column":77}},"43":{"start":{"line":106,"column":2},"end":{"line":106,"column":27}},"44":{"start":{"line":108,"column":2},"end":{"line":108,"column":47}},"45":{"start":{"line":115,"column":0},"end":{"line":137,"column":2}},"46":{"start":{"line":116,"column":2},"end":{"line":118,"column":3}},"47":{"start":{"line":117,"column":4},"end":{"line":117,"column":24}},"48":{"start":{"line":120,"column":2},"end":{"line":120,"column":35}},"49":{"start":{"line":121,"column":2},"end":{"line":121,"column":53}},"50":{"start":{"line":123,"column":2},"end":{"line":128,"column":4}},"51":{"start":{"line":130,"column":2},"end":{"line":132,"column":3}},"52":{"start":{"line":131,"column":4},"end":{"line":131,"column":77}},"53":{"start":{"line":134,"column":2},"end":{"line":134,"column":27}},"54":{"start":{"line":136,"column":2},"end":{"line":136,"column":50}},"55":{"start":{"line":139,"column":0},"end":{"line":139,"column":39}},"56":{"start":{"line":145,"column":0},"end":{"line":167,"column":2}},"57":{"start":{"line":146,"column":2},"end":{"line":148,"column":3}},"58":{"start":{"line":147,"column":4},"end":{"line":147,"column":24}},"59":{"start":{"line":150,"column":2},"end":{"line":150,"column":35}},"60":{"start":{"line":151,"column":2},"end":{"line":151,"column":53}},"61":{"start":{"line":153,"column":2},"end":{"line":158,"column":4}},"62":{"start":{"line":160,"column":2},"end":{"line":162,"column":3}},"63":{"start":{"line":161,"column":4},"end":{"line":161,"column":77}},"64":{"start":{"line":164,"column":2},"end":{"line":164,"column":27}},"65":{"start":{"line":166,"column":2},"end":{"line":166,"column":46}},"66":{"start":{"line":173,"column":0},"end":{"line":191,"column":2}},"67":{"start":{"line":174,"column":2},"end":{"line":177,"column":3}},"68":{"start":{"line":175,"column":4},"end":{"line":175,"column":20}},"69":{"start":{"line":176,"column":4},"end":{"line":176,"column":14}},"70":{"start":{"line":179,"column":2},"end":{"line":179,"column":35}},"71":{"start":{"line":180,"column":2},"end":{"line":180,"column":53}},"72":{"start":{"line":182,"column":2},"end":{"line":186,"column":4}},"73":{"start":{"line":188,"column":2},"end":{"line":188,"column":27}},"74":{"start":{"line":190,"column":2},"end":{"line":190,"column":46}},"75":{"start":{"line":197,"column":0},"end":{"line":197,"column":18}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":2},"end":{"line":44,"column":2}},{"start":{"line":44,"column":2},"end":{"line":44,"column":2}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"5":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":2},"end":{"line":68,"column":2}},{"start":{"line":68,"column":2},"end":{"line":68,"column":2}}]},"6":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"7":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]},"8":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":2},"end":{"line":76,"column":2}},{"start":{"line":76,"column":2},"end":{"line":76,"column":2}}]},"9":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]},"10":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"11":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":2},"end":{"line":116,"column":2}},{"start":{"line":116,"column":2},"end":{"line":116,"column":2}}]},"12":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":2},"end":{"line":130,"column":2}},{"start":{"line":130,"column":2},"end":{"line":130,"column":2}}]},"13":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":2},"end":{"line":146,"column":2}},{"start":{"line":146,"column":2},"end":{"line":146,"column":2}}]},"14":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":2},"end":{"line":160,"column":2}},{"start":{"line":160,"column":2},"end":{"line":160,"column":2}}]},"15":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":2},"end":{"line":174,"column":2}},{"start":{"line":174,"column":2},"end":{"line":174,"column":2}}]}},"code":["/**"," * ACL manipulation"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Acl` client."," */","","function Acl(consul) {","  this.consul = consul;","}","","/**"," * Creates a new token with policy"," */","","Acl.prototype.create = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'acl.create',","    path: '/acl/create',","    query: {},","    type: 'json',","    body: {},","  };","","  if (opts.name) req.body.Name = opts.name;","  if (opts.type) req.body.Type = opts.type;","  if (opts.rules) req.body.Rules = opts.rules;","","  utils.options(req, opts);","","  this.consul._put(req, utils.body, callback);","};","","/**"," * Update the policy of a token"," */","","Acl.prototype.update = function(opts, callback) {","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'acl.update',","    path: '/acl/update',","    query: {},","    type: 'json',","    body: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  req.body.ID = opts.id;","","  if (opts.name) req.body.Name = opts.name;","  if (opts.type) req.body.Type = opts.type;","  if (opts.rules) req.body.Rules = opts.rules;","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Destroys a given token"," */","","Acl.prototype.destroy = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'acl.destroy',","    path: '/acl/destroy/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Queries the policy of a given token"," */","","Acl.prototype.info = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'acl.info',","    path: '/acl/info/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.bodyItem, callback);","};","","Acl.prototype.get = Acl.prototype.info;","","/**"," * Creates a new token by cloning an existing token"," */","","Acl.prototype.clone = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'acl.clone',","    path: '/acl/clone/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._put(req, utils.body, callback);","};","","/**"," * Lists all the active tokens"," */","","Acl.prototype.list = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'acl.list',","    path: '/acl/list',","    query: {},","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Module exports."," */","","exports.Acl = Acl;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"29":0,"32":0,"33":0,"35":0,"43":0,"44":0,"45":0,"47":0,"49":0,"56":1,"57":0,"58":0,"60":0,"68":0,"69":0,"72":0,"74":0,"75":0,"76":0,"78":0,"80":0,"87":1,"88":0,"89":0,"92":0,"93":0,"95":0,"102":0,"103":0,"106":0,"108":0,"115":1,"116":0,"117":0,"120":0,"121":0,"123":0,"130":0,"131":0,"134":0,"136":0,"139":1,"145":1,"146":0,"147":0,"150":0,"151":0,"153":0,"160":0,"161":0,"164":0,"166":0,"173":1,"174":0,"175":0,"176":0,"179":0,"180":0,"182":0,"188":0,"190":0,"197":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/errors.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/errors.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":1,"10":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"create","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"2":{"name":"validation","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":29}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":19,"column":1}},"2":{"start":{"line":12,"column":2},"end":{"line":14,"column":45}},"3":{"start":{"line":16,"column":2},"end":{"line":16,"column":24}},"4":{"start":{"line":18,"column":2},"end":{"line":18,"column":15}},"5":{"start":{"line":25,"column":0},"end":{"line":31,"column":1}},"6":{"start":{"line":26,"column":2},"end":{"line":26,"column":30}},"7":{"start":{"line":28,"column":2},"end":{"line":28,"column":28}},"8":{"start":{"line":30,"column":2},"end":{"line":30,"column":15}},"9":{"start":{"line":37,"column":0},"end":{"line":37,"column":24}},"10":{"start":{"line":38,"column":0},"end":{"line":38,"column":32}}},"branchMap":{"1":{"line":12,"type":"cond-expr","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":11}},{"start":{"line":14,"column":4},"end":{"line":14,"column":44}}]},"2":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":24},"end":{"line":14,"column":31}},{"start":{"line":14,"column":34},"end":{"line":14,"column":43}}]}},"code":["/**"," * Errors"," */","","'use strict';","","/**"," * Create"," */","","function create(message) {","  var error = message instanceof Error ?","    message :","    new Error(message ? message : undefined);","","  error.isConsul = true;","","  return error;","}","","/**"," * Validation"," */","","function validation(message) {","  var error = create(message);","","  error.isValidation = true;","","  return error;","}","","/**"," * Module exports."," */","","exports.Consul = create;","exports.Validation = validation;",""],"l":{"11":1,"12":0,"16":0,"18":0,"25":1,"26":0,"28":0,"30":0,"37":1,"38":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/utils.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/utils.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":1,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":1,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"body","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":29}}},"2":{"name":"bodyItem","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":33}}},"3":{"name":"empty","line":41,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":30}}},"4":{"name":"normalizeKeys","line":51,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":28}}},"5":{"name":"defaults","line":69,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":23}}},"6":{"name":"options","line":89,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":28}}},"7":{"name":"decode","line":116,"loc":{"start":{"line":116,"column":0},"end":{"line":116,"column":29}}},"8":{"name":"clone","line":127,"loc":{"start":{"line":127,"column":0},"end":{"line":127,"column":20}}},"9":{"name":"parseDuration","line":143,"loc":{"start":{"line":143,"column":0},"end":{"line":143,"column":30}}},"10":{"name":"setTimeoutContext","line":171,"loc":{"start":{"line":171,"column":0},"end":{"line":171,"column":45}}},"11":{"name":"(anonymous_11)","line":174,"loc":{"start":{"line":174,"column":15},"end":{"line":174,"column":26}}},"12":{"name":"(anonymous_12)","line":178,"loc":{"start":{"line":178,"column":18},"end":{"line":178,"column":29}}},"13":{"name":"setIntervalContext","line":191,"loc":{"start":{"line":191,"column":0},"end":{"line":191,"column":46}}},"14":{"name":"(anonymous_14)","line":194,"loc":{"start":{"line":194,"column":15},"end":{"line":194,"column":26}}},"15":{"name":"(anonymous_15)","line":198,"loc":{"start":{"line":198,"column":19},"end":{"line":198,"column":30}}},"16":{"name":"_createServiceCheck","line":213,"loc":{"start":{"line":213,"column":0},"end":{"line":213,"column":34}}},"17":{"name":"createServiceCheck","line":243,"loc":{"start":{"line":243,"column":0},"end":{"line":243,"column":33}}},"18":{"name":"createCheck","line":255,"loc":{"start":{"line":255,"column":0},"end":{"line":255,"column":26}}},"19":{"name":"hasIndexChanged","line":276,"loc":{"start":{"line":276,"column":0},"end":{"line":276,"column":43}}},"20":{"name":"parseQueryMeta","line":286,"loc":{"start":{"line":286,"column":0},"end":{"line":286,"column":29}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"2":{"start":{"line":17,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":18,"column":2},"end":{"line":18,"column":75}},"4":{"start":{"line":18,"column":19},"end":{"line":18,"column":75}},"5":{"start":{"line":20,"column":2},"end":{"line":20,"column":56}},"6":{"start":{"line":27,"column":0},"end":{"line":35,"column":1}},"7":{"start":{"line":28,"column":2},"end":{"line":28,"column":75}},"8":{"start":{"line":28,"column":19},"end":{"line":28,"column":75}},"9":{"start":{"line":30,"column":2},"end":{"line":32,"column":3}},"10":{"start":{"line":31,"column":4},"end":{"line":31,"column":68}},"11":{"start":{"line":34,"column":2},"end":{"line":34,"column":49}},"12":{"start":{"line":41,"column":0},"end":{"line":45,"column":1}},"13":{"start":{"line":42,"column":2},"end":{"line":42,"column":75}},"14":{"start":{"line":42,"column":19},"end":{"line":42,"column":75}},"15":{"start":{"line":44,"column":2},"end":{"line":44,"column":49}},"16":{"start":{"line":51,"column":0},"end":{"line":63,"column":1}},"17":{"start":{"line":52,"column":2},"end":{"line":52,"column":18}},"18":{"start":{"line":54,"column":2},"end":{"line":60,"column":3}},"19":{"start":{"line":55,"column":4},"end":{"line":59,"column":5}},"20":{"start":{"line":56,"column":6},"end":{"line":58,"column":7}},"21":{"start":{"line":57,"column":8},"end":{"line":57,"column":65}},"22":{"start":{"line":62,"column":2},"end":{"line":62,"column":16}},"23":{"start":{"line":69,"column":0},"end":{"line":83,"column":1}},"24":{"start":{"line":70,"column":2},"end":{"line":70,"column":21}},"25":{"start":{"line":70,"column":12},"end":{"line":70,"column":21}},"26":{"start":{"line":72,"column":2},"end":{"line":72,"column":10}},"27":{"start":{"line":73,"column":2},"end":{"line":80,"column":3}},"28":{"start":{"line":74,"column":4},"end":{"line":74,"column":23}},"29":{"start":{"line":75,"column":4},"end":{"line":79,"column":5}},"30":{"start":{"line":76,"column":6},"end":{"line":78,"column":7}},"31":{"start":{"line":77,"column":8},"end":{"line":77,"column":24}},"32":{"start":{"line":82,"column":2},"end":{"line":82,"column":13}},"33":{"start":{"line":89,"column":0},"end":{"line":110,"column":1}},"34":{"start":{"line":90,"column":2},"end":{"line":90,"column":23}},"35":{"start":{"line":90,"column":13},"end":{"line":90,"column":23}},"36":{"start":{"line":92,"column":2},"end":{"line":92,"column":33}},"37":{"start":{"line":92,"column":18},"end":{"line":92,"column":33}},"38":{"start":{"line":94,"column":2},"end":{"line":94,"column":38}},"39":{"start":{"line":94,"column":15},"end":{"line":94,"column":38}},"40":{"start":{"line":95,"column":2},"end":{"line":95,"column":36}},"41":{"start":{"line":95,"column":16},"end":{"line":95,"column":36}},"42":{"start":{"line":97,"column":2},"end":{"line":101,"column":3}},"43":{"start":{"line":98,"column":4},"end":{"line":98,"column":31}},"44":{"start":{"line":99,"column":9},"end":{"line":101,"column":3}},"45":{"start":{"line":100,"column":4},"end":{"line":100,"column":26}},"46":{"start":{"line":103,"column":2},"end":{"line":103,"column":65}},"47":{"start":{"line":103,"column":36},"end":{"line":103,"column":65}},"48":{"start":{"line":104,"column":2},"end":{"line":104,"column":62}},"49":{"start":{"line":104,"column":35},"end":{"line":104,"column":62}},"50":{"start":{"line":105,"column":2},"end":{"line":105,"column":65}},"51":{"start":{"line":105,"column":36},"end":{"line":105,"column":65}},"52":{"start":{"line":108,"column":2},"end":{"line":108,"column":53}},"53":{"start":{"line":108,"column":34},"end":{"line":108,"column":53}},"54":{"start":{"line":109,"column":2},"end":{"line":109,"column":65}},"55":{"start":{"line":109,"column":38},"end":{"line":109,"column":65}},"56":{"start":{"line":116,"column":0},"end":{"line":121,"column":1}},"57":{"start":{"line":117,"column":2},"end":{"line":117,"column":46}},"58":{"start":{"line":117,"column":33},"end":{"line":117,"column":46}},"59":{"start":{"line":118,"column":2},"end":{"line":118,"column":38}},"60":{"start":{"line":119,"column":2},"end":{"line":119,"column":54}},"61":{"start":{"line":119,"column":29},"end":{"line":119,"column":54}},"62":{"start":{"line":120,"column":2},"end":{"line":120,"column":15}},"63":{"start":{"line":127,"column":0},"end":{"line":137,"column":1}},"64":{"start":{"line":128,"column":2},"end":{"line":128,"column":15}},"65":{"start":{"line":130,"column":2},"end":{"line":134,"column":3}},"66":{"start":{"line":131,"column":4},"end":{"line":133,"column":5}},"67":{"start":{"line":132,"column":6},"end":{"line":132,"column":26}},"68":{"start":{"line":136,"column":2},"end":{"line":136,"column":13}},"69":{"start":{"line":143,"column":0},"end":{"line":165,"column":1}},"70":{"start":{"line":144,"column":2},"end":{"line":144,"column":52}},"71":{"start":{"line":144,"column":33},"end":{"line":144,"column":52}},"72":{"start":{"line":145,"column":2},"end":{"line":145,"column":40}},"73":{"start":{"line":145,"column":33},"end":{"line":145,"column":40}},"74":{"start":{"line":147,"column":2},"end":{"line":147,"column":8}},"75":{"start":{"line":148,"column":2},"end":{"line":148,"column":39}},"76":{"start":{"line":150,"column":2},"end":{"line":154,"column":3}},"77":{"start":{"line":151,"column":4},"end":{"line":151,"column":25}},"78":{"start":{"line":153,"column":4},"end":{"line":153,"column":34}},"79":{"start":{"line":153,"column":19},"end":{"line":153,"column":34}},"80":{"start":{"line":156,"column":2},"end":{"line":156,"column":49}},"81":{"start":{"line":158,"column":2},"end":{"line":158,"column":17}},"82":{"start":{"line":158,"column":10},"end":{"line":158,"column":17}},"83":{"start":{"line":160,"column":2},"end":{"line":160,"column":23}},"84":{"start":{"line":162,"column":2},"end":{"line":162,"column":23}},"85":{"start":{"line":162,"column":16},"end":{"line":162,"column":23}},"86":{"start":{"line":164,"column":2},"end":{"line":164,"column":50}},"87":{"start":{"line":171,"column":0},"end":{"line":185,"column":1}},"88":{"start":{"line":172,"column":2},"end":{"line":172,"column":9}},"89":{"start":{"line":174,"column":2},"end":{"line":176,"column":4}},"90":{"start":{"line":175,"column":4},"end":{"line":175,"column":21}},"91":{"start":{"line":178,"column":2},"end":{"line":182,"column":14}},"92":{"start":{"line":179,"column":4},"end":{"line":179,"column":41}},"93":{"start":{"line":181,"column":4},"end":{"line":181,"column":9}},"94":{"start":{"line":184,"column":2},"end":{"line":184,"column":29}},"95":{"start":{"line":191,"column":0},"end":{"line":201,"column":1}},"96":{"start":{"line":192,"column":2},"end":{"line":192,"column":9}},"97":{"start":{"line":194,"column":2},"end":{"line":196,"column":4}},"98":{"start":{"line":195,"column":4},"end":{"line":195,"column":22}},"99":{"start":{"line":198,"column":2},"end":{"line":198,"column":50}},"100":{"start":{"line":198,"column":32},"end":{"line":198,"column":37}},"101":{"start":{"line":200,"column":2},"end":{"line":200,"column":29}},"102":{"start":{"line":213,"column":0},"end":{"line":241,"column":1}},"103":{"start":{"line":214,"column":2},"end":{"line":214,"column":15}},"104":{"start":{"line":216,"column":2},"end":{"line":233,"column":3}},"105":{"start":{"line":217,"column":4},"end":{"line":226,"column":5}},"106":{"start":{"line":218,"column":6},"end":{"line":218,"column":26}},"107":{"start":{"line":219,"column":6},"end":{"line":219,"column":85}},"108":{"start":{"line":219,"column":47},"end":{"line":219,"column":85}},"109":{"start":{"line":220,"column":11},"end":{"line":226,"column":5}},"110":{"start":{"line":221,"column":6},"end":{"line":221,"column":24}},"111":{"start":{"line":223,"column":6},"end":{"line":223,"column":30}},"112":{"start":{"line":224,"column":6},"end":{"line":224,"column":97}},"113":{"start":{"line":224,"column":51},"end":{"line":224,"column":97}},"114":{"start":{"line":225,"column":6},"end":{"line":225,"column":61}},"115":{"start":{"line":225,"column":39},"end":{"line":225,"column":61}},"116":{"start":{"line":227,"column":4},"end":{"line":227,"column":32}},"117":{"start":{"line":228,"column":4},"end":{"line":228,"column":65}},"118":{"start":{"line":228,"column":39},"end":{"line":228,"column":65}},"119":{"start":{"line":229,"column":9},"end":{"line":233,"column":3}},"120":{"start":{"line":230,"column":4},"end":{"line":230,"column":22}},"121":{"start":{"line":232,"column":4},"end":{"line":232,"column":69}},"122":{"start":{"line":234,"column":2},"end":{"line":234,"column":57}},"123":{"start":{"line":234,"column":35},"end":{"line":234,"column":57}},"124":{"start":{"line":235,"column":2},"end":{"line":235,"column":60}},"125":{"start":{"line":235,"column":36},"end":{"line":235,"column":60}},"126":{"start":{"line":236,"column":2},"end":{"line":238,"column":3}},"127":{"start":{"line":237,"column":4},"end":{"line":237,"column":76}},"128":{"start":{"line":240,"column":2},"end":{"line":240,"column":13}},"129":{"start":{"line":243,"column":0},"end":{"line":245,"column":1}},"130":{"start":{"line":244,"column":2},"end":{"line":244,"column":49}},"131":{"start":{"line":255,"column":0},"end":{"line":270,"column":1}},"132":{"start":{"line":256,"column":2},"end":{"line":256,"column":27}},"133":{"start":{"line":258,"column":2},"end":{"line":258,"column":37}},"134":{"start":{"line":260,"column":2},"end":{"line":264,"column":3}},"135":{"start":{"line":261,"column":4},"end":{"line":261,"column":24}},"136":{"start":{"line":263,"column":4},"end":{"line":263,"column":37}},"137":{"start":{"line":266,"column":2},"end":{"line":266,"column":48}},"138":{"start":{"line":266,"column":32},"end":{"line":266,"column":48}},"139":{"start":{"line":267,"column":2},"end":{"line":267,"column":69}},"140":{"start":{"line":267,"column":39},"end":{"line":267,"column":69}},"141":{"start":{"line":269,"column":2},"end":{"line":269,"column":13}},"142":{"start":{"line":276,"column":0},"end":{"line":280,"column":1}},"143":{"start":{"line":277,"column":2},"end":{"line":277,"column":56}},"144":{"start":{"line":277,"column":43},"end":{"line":277,"column":56}},"145":{"start":{"line":278,"column":2},"end":{"line":278,"column":63}},"146":{"start":{"line":278,"column":51},"end":{"line":278,"column":63}},"147":{"start":{"line":279,"column":2},"end":{"line":279,"column":29}},"148":{"start":{"line":286,"column":0},"end":{"line":305,"column":1}},"149":{"start":{"line":287,"column":2},"end":{"line":287,"column":16}},"150":{"start":{"line":289,"column":2},"end":{"line":302,"column":3}},"151":{"start":{"line":290,"column":4},"end":{"line":292,"column":5}},"152":{"start":{"line":291,"column":6},"end":{"line":291,"column":53}},"153":{"start":{"line":293,"column":4},"end":{"line":295,"column":5}},"154":{"start":{"line":294,"column":6},"end":{"line":294,"column":75}},"155":{"start":{"line":296,"column":4},"end":{"line":298,"column":5}},"156":{"start":{"line":297,"column":6},"end":{"line":297,"column":72}},"157":{"start":{"line":299,"column":4},"end":{"line":301,"column":5}},"158":{"start":{"line":300,"column":6},"end":{"line":300,"column":94}},"159":{"start":{"line":304,"column":2},"end":{"line":304,"column":14}},"160":{"start":{"line":311,"column":0},"end":{"line":311,"column":20}},"161":{"start":{"line":312,"column":0},"end":{"line":312,"column":28}},"162":{"start":{"line":313,"column":0},"end":{"line":313,"column":24}},"163":{"start":{"line":314,"column":0},"end":{"line":314,"column":22}},"164":{"start":{"line":315,"column":0},"end":{"line":315,"column":38}},"165":{"start":{"line":316,"column":0},"end":{"line":316,"column":28}},"166":{"start":{"line":317,"column":0},"end":{"line":317,"column":26}},"167":{"start":{"line":318,"column":0},"end":{"line":318,"column":22}},"168":{"start":{"line":319,"column":0},"end":{"line":319,"column":38}},"169":{"start":{"line":320,"column":0},"end":{"line":320,"column":46}},"170":{"start":{"line":321,"column":0},"end":{"line":321,"column":48}},"171":{"start":{"line":322,"column":0},"end":{"line":322,"column":48}},"172":{"start":{"line":323,"column":0},"end":{"line":323,"column":34}},"173":{"start":{"line":324,"column":0},"end":{"line":324,"column":42}},"174":{"start":{"line":325,"column":0},"end":{"line":325,"column":40}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":28,"column":2}},{"start":{"line":28,"column":2},"end":{"line":28,"column":2}}]},"3":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":2},"end":{"line":30,"column":2}},{"start":{"line":30,"column":2},"end":{"line":30,"column":2}}]},"4":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":6},"end":{"line":30,"column":22}},{"start":{"line":30,"column":26},"end":{"line":30,"column":49}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":2},"end":{"line":42,"column":2}},{"start":{"line":42,"column":2},"end":{"line":42,"column":2}}]},"6":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"7":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":6},"end":{"line":56,"column":6}},{"start":{"line":56,"column":6},"end":{"line":56,"column":6}}]},"8":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":70,"column":2}},{"start":{"line":70,"column":2},"end":{"line":70,"column":2}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":6}},{"start":{"line":76,"column":6},"end":{"line":76,"column":6}}]},"10":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":10},"end":{"line":76,"column":31}},{"start":{"line":76,"column":35},"end":{"line":76,"column":57}}]},"11":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":2},"end":{"line":90,"column":2}},{"start":{"line":90,"column":2},"end":{"line":90,"column":2}}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":2},"end":{"line":92,"column":2}},{"start":{"line":92,"column":2},"end":{"line":92,"column":2}}]},"13":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":2},"end":{"line":94,"column":2}},{"start":{"line":94,"column":2},"end":{"line":94,"column":2}}]},"14":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":2},"end":{"line":95,"column":2}},{"start":{"line":95,"column":2},"end":{"line":95,"column":2}}]},"15":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"16":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":9},"end":{"line":99,"column":9}},{"start":{"line":99,"column":9},"end":{"line":99,"column":9}}]},"17":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":2},"end":{"line":103,"column":2}},{"start":{"line":103,"column":2},"end":{"line":103,"column":2}}]},"18":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":2},"end":{"line":104,"column":2}},{"start":{"line":104,"column":2},"end":{"line":104,"column":2}}]},"19":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":2},"end":{"line":105,"column":2}},{"start":{"line":105,"column":2},"end":{"line":105,"column":2}}]},"20":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":2},"end":{"line":108,"column":2}},{"start":{"line":108,"column":2},"end":{"line":108,"column":2}}]},"21":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":2},"end":{"line":109,"column":2}},{"start":{"line":109,"column":2},"end":{"line":109,"column":2}}]},"22":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":2},"end":{"line":117,"column":2}},{"start":{"line":117,"column":2},"end":{"line":117,"column":2}}]},"23":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":2},"end":{"line":119,"column":2}},{"start":{"line":119,"column":2},"end":{"line":119,"column":2}}]},"24":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":6},"end":{"line":119,"column":11}},{"start":{"line":119,"column":15},"end":{"line":119,"column":27}}]},"25":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":4},"end":{"line":131,"column":4}},{"start":{"line":131,"column":4},"end":{"line":131,"column":4}}]},"26":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":2},"end":{"line":144,"column":2}},{"start":{"line":144,"column":2},"end":{"line":144,"column":2}}]},"27":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":2},"end":{"line":145,"column":2}},{"start":{"line":145,"column":2},"end":{"line":145,"column":2}}]},"28":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":2},"end":{"line":150,"column":2}},{"start":{"line":150,"column":2},"end":{"line":150,"column":2}}]},"29":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":4},"end":{"line":153,"column":4}},{"start":{"line":153,"column":4},"end":{"line":153,"column":4}}]},"30":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":2},"end":{"line":158,"column":2}},{"start":{"line":158,"column":2},"end":{"line":158,"column":2}}]},"31":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":2},"end":{"line":162,"column":2}},{"start":{"line":162,"column":2},"end":{"line":162,"column":2}}]},"32":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":2},"end":{"line":216,"column":2}},{"start":{"line":216,"column":2},"end":{"line":216,"column":2}}]},"33":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":7},"end":{"line":216,"column":15}},{"start":{"line":216,"column":19},"end":{"line":216,"column":29}},{"start":{"line":216,"column":33},"end":{"line":216,"column":40}},{"start":{"line":216,"column":45},"end":{"line":216,"column":57}}]},"34":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":4},"end":{"line":217,"column":4}},{"start":{"line":217,"column":4},"end":{"line":217,"column":4}}]},"35":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":6},"end":{"line":219,"column":6}},{"start":{"line":219,"column":6},"end":{"line":219,"column":6}}]},"36":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":11},"end":{"line":220,"column":11}},{"start":{"line":220,"column":11},"end":{"line":220,"column":11}}]},"37":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":6},"end":{"line":224,"column":6}},{"start":{"line":224,"column":6},"end":{"line":224,"column":6}}]},"38":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":6},"end":{"line":225,"column":6}},{"start":{"line":225,"column":6},"end":{"line":225,"column":6}}]},"39":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":4},"end":{"line":228,"column":4}},{"start":{"line":228,"column":4},"end":{"line":228,"column":4}}]},"40":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":9},"end":{"line":229,"column":9}},{"start":{"line":229,"column":9},"end":{"line":229,"column":9}}]},"41":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":2},"end":{"line":234,"column":2}},{"start":{"line":234,"column":2},"end":{"line":234,"column":2}}]},"42":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":2},"end":{"line":235,"column":2}},{"start":{"line":235,"column":2},"end":{"line":235,"column":2}}]},"43":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":2},"end":{"line":236,"column":2}},{"start":{"line":236,"column":2},"end":{"line":236,"column":2}}]},"44":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":2},"end":{"line":260,"column":2}},{"start":{"line":260,"column":2},"end":{"line":260,"column":2}}]},"45":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":2},"end":{"line":266,"column":2}},{"start":{"line":266,"column":2},"end":{"line":266,"column":2}}]},"46":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":2},"end":{"line":267,"column":2}},{"start":{"line":267,"column":2},"end":{"line":267,"column":2}}]},"47":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":2},"end":{"line":277,"column":2}},{"start":{"line":277,"column":2},"end":{"line":277,"column":2}}]},"48":{"line":277,"type":"binary-expr","locations":[{"start":{"line":277,"column":6},"end":{"line":277,"column":31}},{"start":{"line":277,"column":35},"end":{"line":277,"column":41}}]},"49":{"line":278,"type":"if","locations":[{"start":{"line":278,"column":2},"end":{"line":278,"column":2}},{"start":{"line":278,"column":2},"end":{"line":278,"column":2}}]},"50":{"line":278,"type":"binary-expr","locations":[{"start":{"line":278,"column":6},"end":{"line":278,"column":35}},{"start":{"line":278,"column":39},"end":{"line":278,"column":49}}]},"51":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":2},"end":{"line":289,"column":2}},{"start":{"line":289,"column":2},"end":{"line":289,"column":2}}]},"52":{"line":289,"type":"binary-expr","locations":[{"start":{"line":289,"column":6},"end":{"line":289,"column":9}},{"start":{"line":289,"column":13},"end":{"line":289,"column":24}}]},"53":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":4},"end":{"line":290,"column":4}},{"start":{"line":290,"column":4},"end":{"line":290,"column":4}}]},"54":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":4},"end":{"line":293,"column":4}},{"start":{"line":293,"column":4},"end":{"line":293,"column":4}}]},"55":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":4},"end":{"line":296,"column":4}},{"start":{"line":296,"column":4},"end":{"line":296,"column":4}}]},"56":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":4},"end":{"line":299,"column":4}},{"start":{"line":299,"column":4},"end":{"line":299,"column":4}}]}},"code":["/**"," * Helper functions"," */","","'use strict';","","/**"," * Module dependencies."," */","","var constants = require('./constants');","","/**"," * Body"," */","","function body(request, next) {","  if (request.err) return next(false, request.err, undefined, request.res);","","  next(false, undefined, request.res.body, request.res);","}","","/**"," * First item in body"," */","","function bodyItem(request, next) {","  if (request.err) return next(false, request.err, undefined, request.res);","","  if (request.res.body && request.res.body.length) {","    return next(false, undefined, request.res.body[0], request.res);","  }","","  next(false, undefined, undefined, request.res);","}","","/**"," * Empty"," */","","function empty(request, next) {","  if (request.err) return next(false, request.err, undefined, request.res);","","  next(false, undefined, undefined, request.res);","}","","/**"," * Normalize keys"," */","","function normalizeKeys(obj) {","  var result = {};","","  if (obj) {","    for (var name in obj) {","      if (obj.hasOwnProperty(name)) {","        result[name.replace(/_/g, '').toLowerCase()] = obj[name];","      }","    }","  }","","  return result;","}","","/**"," * Defaults"," */","","function defaults(obj) {","  if (!obj) obj = {};","","  var src;","  for (var i = 0; i < arguments.length; i++) {","    src = arguments[i];","    for (var p in src) {","      if (src.hasOwnProperty(p) && !obj.hasOwnProperty(p)) {","        obj[p] = src[p];","      }","    }","  }","","  return obj;","}","","/**"," * Common options"," */","","function options(req, opts) {","  if (!opts) opts = {};","","  if (!req.query) req.query = {};","","  if (opts.dc) req.query.dc = opts.dc;","  if (opts.wan) req.query.wan = '1';","","  if (opts.consistent) {","    req.query.consistent = '1';","  } else if (opts.stale) {","    req.query.stale = '1';","  }","","  if (opts.hasOwnProperty('index')) req.query.index = opts.index;","  if (opts.hasOwnProperty('wait')) req.query.wait = opts.wait;","  if (opts.hasOwnProperty('token')) req.query.token = opts.token;","","  // papi","  if (opts.hasOwnProperty('ctx')) req.ctx = opts.ctx;","  if (opts.hasOwnProperty('timeout')) req.timeout = opts.timeout;","}","","/**"," * Decode value"," */","","function decode(value, opts) {","  if (typeof value !== 'string') return value;","  value = new Buffer(value, 'base64');","  if (!opts || !opts.buffer) value = value.toString();","  return value;","}","","/**"," * Shallow clone"," */","","function clone(src) {","  var dst = {};","","  for (var key in src) {","    if (src.hasOwnProperty(key)) {","      dst[key] = src[key];","    }","  }","","  return dst;","}","","/**"," * Parse duration"," */","","function parseDuration(value) {","  if (typeof value === 'number') return value / 1e6;","  if (typeof value !== 'string') return;","","  var n;","  var m = value.match(/^(\\d*\\.?\\d*)$/);","","  if (m) {","    n = parseFloat(m[1]);","","    if (!isNaN(n)) return n / 1e6;","  }","","  m = value.match(/^([\\d\\.]*)(ns|us|ms|s|m|h)$/);","","  if (!m) return;","","  n = parseFloat(m[1]);","","  if (isNaN(n)) return;","","  return n * constants.DURATION_UNITS[m[2]] / 1e6;","}","","/**"," * Set timeout with cancel support"," */","","function setTimeoutContext(fn, ctx, timeout) {","  var id;","","  var cancel = function() {","    clearTimeout(id);","  };","","  id = setTimeout(function() {","    ctx.removeListener('cancel', cancel);","","    fn();","  }, timeout);","","  ctx.once('cancel', cancel);","}","","/**"," * Set interval with cancel support"," */","","function setIntervalContext(fn, ctx, timeout) {","  var id;","","  var cancel = function() {","    clearInterval(id);","  };","","  id = setInterval(function() { fn(); }, timeout);","","  ctx.once('cancel', cancel);","}","","/**"," * Create node/server-level check object"," * Corresponds to CheckType in Consul Agent Endpoint:"," * https://github.com/hashicorp/consul/blob/master/command/agent/check.go#L43"," * Corresponds to AgentServiceCheck in Consul Go API (which currently omits Notes):"," * https://github.com/hashicorp/consul/blob/master/api/agent.go#L66"," * Currently omits ID and Name fields:"," * https://github.com/hashicorp/consul/issues/2223"," */","","function _createServiceCheck(src) {","  var dst = {};","","  if ((src.http || src.script || src.tcp) && src.interval) {","    if (src.http) {","      dst.HTTP = src.http;","      if (src.hasOwnProperty('tlsskipverify')) dst.TLSSkipVerify = src.tlsskipverify;","    } else if (src.tcp){","      dst.TCP = src.tcp;","    } else {","      dst.Script = src.script;","      if (src.hasOwnProperty('dockercontainerid')) dst.DockerContainerID = src.dockercontainerid;","      if (src.hasOwnProperty('shell')) dst.Shell = src.shell;","    }","    dst.Interval = src.interval;","    if (src.hasOwnProperty('timeout')) dst.Timeout = src.timeout;","  } else if (src.ttl) {","    dst.TTL = src.ttl;","  } else {","    throw new Error('http/tcp/script and interval, or ttl required');","  }","  if (src.hasOwnProperty('notes')) dst.Notes = src.notes;","  if (src.hasOwnProperty('status')) dst.Status = src.status;","  if (src.hasOwnProperty('deregistercriticalserviceafter')) {","    dst.DeregisterCriticalServiceAfter = src.deregistercriticalserviceafter;","  }","","  return dst;","}","","function createServiceCheck(src) {","  return _createServiceCheck(normalizeKeys(src));","}","","/**"," * Create standalone check object"," * Corresponds to CheckDefinition in Consul Agent Endpoint:"," * https://github.com/hashicorp/consul/blob/master/command/agent/structs.go#L47"," * Corresponds to AgentCheckRegistration in Consul Go API:"," * https://github.com/hashicorp/consul/blob/master/api/agent.go#L57"," */","","function createCheck(src) {","  src = normalizeKeys(src);","","  var dst = _createServiceCheck(src);","","  if (src.name) {","    dst.Name = src.name;","  } else {","    throw new Error('name required');","  }","","  if (src.hasOwnProperty('id')) dst.ID = src.id;","  if (src.hasOwnProperty('serviceid')) dst.ServiceID = src.serviceid;","","  return dst;","}","","/**"," * Has the Consul index changed."," */","","function hasIndexChanged(index, prevIndex) {","  if (typeof index !== 'string' || !index) return false;","  if (typeof prevIndex !== 'string' || !prevIndex) return true;","  return index !== prevIndex;","}","","/**"," * Parse query meta"," */","","function parseQueryMeta(res) {","  var meta = {};","","  if (res && res.headers) {","    if (res.headers['x-consul-index']) {","      meta.LastIndex = res.headers['x-consul-index'];","    }","    if (res.headers['x-consul-lastcontact']) {","      meta.LastContact = parseInt(res.headers['x-consul-lastcontact'], 10);","    }","    if (res.headers['x-consul-knownleader']) {","      meta.KnownLeader = res.headers['x-consul-knownleader'] === 'true';","    }","    if (res.headers['x-consul-translate-addresses']) {","      meta.AddressTranslationEnabled = res.headers['x-consul-translate-addresses'] === 'true';","    }","  }","","  return meta;","}","","/**"," * Module exports"," */","","exports.body = body;","exports.bodyItem = bodyItem;","exports.decode = decode;","exports.empty = empty;","exports.normalizeKeys = normalizeKeys;","exports.defaults = defaults;","exports.options = options;","exports.clone = clone;","exports.parseDuration = parseDuration;","exports.setTimeoutContext = setTimeoutContext;","exports.setIntervalContext = setIntervalContext;","exports.createServiceCheck = createServiceCheck;","exports.createCheck = createCheck;","exports.hasIndexChanged = hasIndexChanged;","exports.parseQueryMeta = parseQueryMeta;",""],"l":{"11":1,"17":1,"18":0,"20":0,"27":1,"28":0,"30":0,"31":0,"34":0,"41":1,"42":0,"44":0,"51":1,"52":0,"54":0,"55":0,"56":0,"57":0,"62":0,"69":1,"70":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"82":0,"89":1,"90":0,"92":0,"94":0,"95":0,"97":0,"98":0,"99":0,"100":0,"103":0,"104":0,"105":0,"108":0,"109":0,"116":1,"117":0,"118":0,"119":0,"120":0,"127":1,"128":0,"130":0,"131":0,"132":0,"136":0,"143":1,"144":0,"145":0,"147":0,"148":0,"150":0,"151":0,"153":0,"156":0,"158":0,"160":0,"162":0,"164":0,"171":1,"172":0,"174":0,"175":0,"178":0,"179":0,"181":0,"184":0,"191":1,"192":0,"194":0,"195":0,"198":0,"200":0,"213":1,"214":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"223":0,"224":0,"225":0,"227":0,"228":0,"229":0,"230":0,"232":0,"234":0,"235":0,"236":0,"237":0,"240":0,"243":1,"244":0,"255":1,"256":0,"258":0,"260":0,"261":0,"263":0,"266":0,"267":0,"269":0,"276":1,"277":0,"278":0,"279":0,"286":1,"287":0,"289":0,"290":0,"291":0,"293":0,"294":0,"296":0,"297":0,"299":0,"300":0,"304":0,"311":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"320":1,"321":1,"322":1,"323":1,"324":1,"325":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/constants.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/constants.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":19,"column":2}},"2":{"start":{"line":25,"column":0},"end":{"line":31,"column":2}},"3":{"start":{"line":33,"column":0},"end":{"line":38,"column":2}},"4":{"start":{"line":44,"column":0},"end":{"line":44,"column":44}},"5":{"start":{"line":45,"column":0},"end":{"line":45,"column":21}},"6":{"start":{"line":46,"column":0},"end":{"line":46,"column":21}},"7":{"start":{"line":47,"column":0},"end":{"line":47,"column":20}},"8":{"start":{"line":48,"column":0},"end":{"line":48,"column":17}},"9":{"start":{"line":49,"column":0},"end":{"line":49,"column":17}}},"branchMap":{},"code":["/**"," * Constants"," */","","'use strict';","","/**"," * Default options"," */","","exports.DEFAULT_OPTIONS = [","  'consistent',","  'dc',","  'stale',","  'timeout',","  'token',","  'wait',","  'wan',","];","","/**"," * Values"," */","","exports.AGENT_STATUS = [","  'none',","  'alive',","  'leaving',","  'left',","  'failed',","];","","exports.CHECK_STATE = [","  'unknown',","  'passing',","  'warning',","  'critical',","];","","/**"," * Time"," */","","var du = exports.DURATION_UNITS = { ns: 1 };","du.us = 1000 * du.ns;","du.ms = 1000 * du.us;","du.s = 1000 * du.ms;","du.m = 60 * du.s;","du.h = 60 * du.m;",""],"l":{"11":1,"25":1,"33":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/agent.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/agent.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":0,"13":1,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"Agent","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":23}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":25},"end":{"line":33,"column":36}}},"3":{"name":"(anonymous_3)","line":41,"loc":{"start":{"line":41,"column":27},"end":{"line":41,"column":38}}},"4":{"name":"(anonymous_4)","line":49,"loc":{"start":{"line":49,"column":26},"end":{"line":49,"column":51}}},"5":{"name":"(anonymous_5)","line":73,"loc":{"start":{"line":73,"column":23},"end":{"line":73,"column":48}}},"6":{"name":"(anonymous_6)","line":96,"loc":{"start":{"line":96,"column":30},"end":{"line":96,"column":55}}},"7":{"name":"(anonymous_7)","line":124,"loc":{"start":{"line":124,"column":23},"end":{"line":124,"column":48}}},"8":{"name":"(anonymous_8)","line":151,"loc":{"start":{"line":151,"column":29},"end":{"line":151,"column":54}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":53}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":59}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":33}},"4":{"start":{"line":14,"column":0},"end":{"line":14,"column":31}},"5":{"start":{"line":20,"column":0},"end":{"line":24,"column":1}},"6":{"start":{"line":21,"column":2},"end":{"line":21,"column":23}},"7":{"start":{"line":22,"column":2},"end":{"line":22,"column":39}},"8":{"start":{"line":23,"column":2},"end":{"line":23,"column":43}},"9":{"start":{"line":26,"column":0},"end":{"line":26,"column":25}},"10":{"start":{"line":27,"column":0},"end":{"line":27,"column":29}},"11":{"start":{"line":33,"column":0},"end":{"line":35,"column":2}},"12":{"start":{"line":34,"column":2},"end":{"line":34,"column":47}},"13":{"start":{"line":41,"column":0},"end":{"line":43,"column":2}},"14":{"start":{"line":42,"column":2},"end":{"line":42,"column":51}},"15":{"start":{"line":49,"column":0},"end":{"line":67,"column":2}},"16":{"start":{"line":50,"column":2},"end":{"line":53,"column":3}},"17":{"start":{"line":51,"column":4},"end":{"line":51,"column":20}},"18":{"start":{"line":52,"column":4},"end":{"line":52,"column":14}},"19":{"start":{"line":55,"column":2},"end":{"line":55,"column":35}},"20":{"start":{"line":56,"column":2},"end":{"line":56,"column":53}},"21":{"start":{"line":58,"column":2},"end":{"line":62,"column":4}},"22":{"start":{"line":64,"column":2},"end":{"line":64,"column":27}},"23":{"start":{"line":66,"column":2},"end":{"line":66,"column":46}},"24":{"start":{"line":73,"column":0},"end":{"line":90,"column":2}},"25":{"start":{"line":74,"column":2},"end":{"line":77,"column":3}},"26":{"start":{"line":75,"column":4},"end":{"line":75,"column":20}},"27":{"start":{"line":76,"column":4},"end":{"line":76,"column":14}},"28":{"start":{"line":79,"column":2},"end":{"line":79,"column":35}},"29":{"start":{"line":80,"column":2},"end":{"line":80,"column":53}},"30":{"start":{"line":82,"column":2},"end":{"line":85,"column":4}},"31":{"start":{"line":87,"column":2},"end":{"line":87,"column":27}},"32":{"start":{"line":89,"column":2},"end":{"line":89,"column":46}},"33":{"start":{"line":96,"column":0},"end":{"line":118,"column":2}},"34":{"start":{"line":97,"column":2},"end":{"line":99,"column":3}},"35":{"start":{"line":98,"column":4},"end":{"line":98,"column":28}},"36":{"start":{"line":101,"column":2},"end":{"line":101,"column":35}},"37":{"start":{"line":102,"column":2},"end":{"line":102,"column":53}},"38":{"start":{"line":104,"column":2},"end":{"line":108,"column":4}},"39":{"start":{"line":110,"column":2},"end":{"line":112,"column":3}},"40":{"start":{"line":111,"column":4},"end":{"line":111,"column":81}},"41":{"start":{"line":113,"column":2},"end":{"line":113,"column":50}},"42":{"start":{"line":113,"column":19},"end":{"line":113,"column":50}},"43":{"start":{"line":115,"column":2},"end":{"line":115,"column":27}},"44":{"start":{"line":117,"column":2},"end":{"line":117,"column":47}},"45":{"start":{"line":124,"column":0},"end":{"line":145,"column":2}},"46":{"start":{"line":125,"column":2},"end":{"line":127,"column":3}},"47":{"start":{"line":126,"column":4},"end":{"line":126,"column":29}},"48":{"start":{"line":129,"column":2},"end":{"line":129,"column":35}},"49":{"start":{"line":130,"column":2},"end":{"line":130,"column":53}},"50":{"start":{"line":132,"column":2},"end":{"line":136,"column":4}},"51":{"start":{"line":138,"column":2},"end":{"line":140,"column":3}},"52":{"start":{"line":139,"column":4},"end":{"line":139,"column":82}},"53":{"start":{"line":142,"column":2},"end":{"line":142,"column":27}},"54":{"start":{"line":144,"column":2},"end":{"line":144,"column":47}},"55":{"start":{"line":151,"column":0},"end":{"line":172,"column":2}},"56":{"start":{"line":152,"column":2},"end":{"line":154,"column":3}},"57":{"start":{"line":153,"column":4},"end":{"line":153,"column":26}},"58":{"start":{"line":156,"column":2},"end":{"line":156,"column":35}},"59":{"start":{"line":157,"column":2},"end":{"line":157,"column":53}},"60":{"start":{"line":159,"column":2},"end":{"line":163,"column":4}},"61":{"start":{"line":165,"column":2},"end":{"line":167,"column":3}},"62":{"start":{"line":166,"column":4},"end":{"line":166,"column":79}},"63":{"start":{"line":169,"column":2},"end":{"line":169,"column":27}},"64":{"start":{"line":171,"column":2},"end":{"line":171,"column":47}},"65":{"start":{"line":178,"column":0},"end":{"line":178,"column":22}}},"branchMap":{"1":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"2":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"3":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"4":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":2},"end":{"line":110,"column":2}},{"start":{"line":110,"column":2},"end":{"line":110,"column":2}}]},"5":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":2},"end":{"line":113,"column":2}},{"start":{"line":113,"column":2},"end":{"line":113,"column":2}}]},"6":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":2},"end":{"line":125,"column":2}},{"start":{"line":125,"column":2},"end":{"line":125,"column":2}}]},"7":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":2},"end":{"line":138,"column":2}},{"start":{"line":138,"column":2},"end":{"line":138,"column":2}}]},"8":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":2},"end":{"line":152,"column":2}},{"start":{"line":152,"column":2},"end":{"line":152,"column":2}}]},"9":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":2},"end":{"line":165,"column":2}},{"start":{"line":165,"column":2},"end":{"line":165,"column":2}}]}},"code":["/**"," * Agent control"," */","","'use strict';","","/**"," * Module dependencies."," */","","var AgentCheck = require('./agent/check').AgentCheck;","var AgentService = require('./agent/service').AgentService;","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Agent` client."," */","","function Agent(consul) {","  this.consul = consul;","  this.check = new Agent.Check(consul);","  this.service = new Agent.Service(consul);","}","","Agent.Check = AgentCheck;","Agent.Service = AgentService;","","/**"," * Returns the checks the local agent is managing"," */","","Agent.prototype.checks = function() {","  this.check.list.apply(this.check, arguments);","};","","/**"," * Returns the services local agent is managing"," */","","Agent.prototype.services = function() {","  this.service.list.apply(this.service, arguments);","};","","/**"," * Returns the members as seen by the local consul agent"," */","","Agent.prototype.members = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.members',","    path: '/agent/members',","    query: {},","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Returns the local node configuration"," */","","Agent.prototype.self = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.self',","    path: '/agent/self',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Manages node maintenance mode"," */","","Agent.prototype.maintenance = function(opts, callback) {","  if (typeof opts === 'boolean') {","    opts = { enable: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.maintenance',","    path: '/agent/maintenance',","    query: { enable: opts.enable },","  };","","  if (typeof opts.enable !== 'boolean') {","    return callback(this.consul._err(errors.Validation('enable required'), req));","  }","  if (opts.reason) req.query.reason = opts.reason;","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Trigger local agent to join a node"," */","","Agent.prototype.join = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { address: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.join',","    path: '/agent/join/{address}',","    params: { address: opts.address },","  };","","  if (!opts.address) {","    return callback(this.consul._err(errors.Validation('address required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.empty, callback);","};","","/**"," * Force remove node"," */","","Agent.prototype.forceLeave = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { node: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.forceLeave',","    path: '/agent/force-leave/{node}',","    params: { node: opts.node },","  };","","  if (!opts.node) {","    return callback(this.consul._err(errors.Validation('node required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.empty, callback);","};","","/**"," * Module exports."," */","","exports.Agent = Agent;",""],"l":{"11":1,"12":1,"13":1,"14":1,"20":1,"21":0,"22":0,"23":0,"26":1,"27":1,"33":1,"34":0,"41":1,"42":0,"49":1,"50":0,"51":0,"52":0,"55":0,"56":0,"58":0,"64":0,"66":0,"73":1,"74":0,"75":0,"76":0,"79":0,"80":0,"82":0,"87":0,"89":0,"96":1,"97":0,"98":0,"101":0,"102":0,"104":0,"110":0,"111":0,"113":0,"115":0,"117":0,"124":1,"125":0,"126":0,"129":0,"130":0,"132":0,"138":0,"139":0,"142":0,"144":0,"151":1,"152":0,"153":0,"156":0,"157":0,"159":0,"165":0,"166":0,"169":0,"171":0,"178":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/agent/check.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/agent/check.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"AgentCheck","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":28}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":28},"end":{"line":26,"column":53}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":32},"end":{"line":49,"column":57}}},"4":{"name":"(anonymous_4)","line":74,"loc":{"start":{"line":74,"column":34},"end":{"line":74,"column":59}}},"5":{"name":"(anonymous_5)","line":101,"loc":{"start":{"line":101,"column":28},"end":{"line":101,"column":53}}},"6":{"name":"(anonymous_6)","line":131,"loc":{"start":{"line":131,"column":28},"end":{"line":131,"column":53}}},"7":{"name":"(anonymous_7)","line":161,"loc":{"start":{"line":161,"column":28},"end":{"line":161,"column":53}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":43,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":30,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":14}},"9":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"10":{"start":{"line":33,"column":2},"end":{"line":33,"column":53}},"11":{"start":{"line":35,"column":2},"end":{"line":38,"column":4}},"12":{"start":{"line":40,"column":2},"end":{"line":40,"column":27}},"13":{"start":{"line":42,"column":2},"end":{"line":42,"column":46}},"14":{"start":{"line":49,"column":0},"end":{"line":68,"column":2}},"15":{"start":{"line":50,"column":2},"end":{"line":50,"column":35}},"16":{"start":{"line":51,"column":2},"end":{"line":51,"column":53}},"17":{"start":{"line":53,"column":2},"end":{"line":57,"column":4}},"18":{"start":{"line":59,"column":2},"end":{"line":63,"column":3}},"19":{"start":{"line":60,"column":4},"end":{"line":60,"column":39}},"20":{"start":{"line":62,"column":4},"end":{"line":62,"column":75}},"21":{"start":{"line":65,"column":2},"end":{"line":65,"column":27}},"22":{"start":{"line":67,"column":2},"end":{"line":67,"column":47}},"23":{"start":{"line":74,"column":0},"end":{"line":95,"column":2}},"24":{"start":{"line":75,"column":2},"end":{"line":77,"column":3}},"25":{"start":{"line":76,"column":4},"end":{"line":76,"column":24}},"26":{"start":{"line":79,"column":2},"end":{"line":79,"column":35}},"27":{"start":{"line":80,"column":2},"end":{"line":80,"column":53}},"28":{"start":{"line":82,"column":2},"end":{"line":86,"column":4}},"29":{"start":{"line":88,"column":2},"end":{"line":90,"column":3}},"30":{"start":{"line":89,"column":4},"end":{"line":89,"column":77}},"31":{"start":{"line":92,"column":2},"end":{"line":92,"column":27}},"32":{"start":{"line":94,"column":2},"end":{"line":94,"column":47}},"33":{"start":{"line":101,"column":0},"end":{"line":125,"column":2}},"34":{"start":{"line":102,"column":2},"end":{"line":104,"column":3}},"35":{"start":{"line":103,"column":4},"end":{"line":103,"column":24}},"36":{"start":{"line":106,"column":2},"end":{"line":106,"column":35}},"37":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}},"38":{"start":{"line":109,"column":2},"end":{"line":114,"column":4}},"39":{"start":{"line":116,"column":2},"end":{"line":118,"column":3}},"40":{"start":{"line":117,"column":4},"end":{"line":117,"column":77}},"41":{"start":{"line":120,"column":2},"end":{"line":120,"column":44}},"42":{"start":{"line":120,"column":17},"end":{"line":120,"column":44}},"43":{"start":{"line":122,"column":2},"end":{"line":122,"column":27}},"44":{"start":{"line":124,"column":2},"end":{"line":124,"column":47}},"45":{"start":{"line":131,"column":0},"end":{"line":155,"column":2}},"46":{"start":{"line":132,"column":2},"end":{"line":134,"column":3}},"47":{"start":{"line":133,"column":4},"end":{"line":133,"column":24}},"48":{"start":{"line":136,"column":2},"end":{"line":136,"column":35}},"49":{"start":{"line":137,"column":2},"end":{"line":137,"column":53}},"50":{"start":{"line":139,"column":2},"end":{"line":144,"column":4}},"51":{"start":{"line":146,"column":2},"end":{"line":148,"column":3}},"52":{"start":{"line":147,"column":4},"end":{"line":147,"column":77}},"53":{"start":{"line":150,"column":2},"end":{"line":150,"column":44}},"54":{"start":{"line":150,"column":17},"end":{"line":150,"column":44}},"55":{"start":{"line":152,"column":2},"end":{"line":152,"column":27}},"56":{"start":{"line":154,"column":2},"end":{"line":154,"column":47}},"57":{"start":{"line":161,"column":0},"end":{"line":185,"column":2}},"58":{"start":{"line":162,"column":2},"end":{"line":164,"column":3}},"59":{"start":{"line":163,"column":4},"end":{"line":163,"column":24}},"60":{"start":{"line":166,"column":2},"end":{"line":166,"column":35}},"61":{"start":{"line":167,"column":2},"end":{"line":167,"column":53}},"62":{"start":{"line":169,"column":2},"end":{"line":174,"column":4}},"63":{"start":{"line":176,"column":2},"end":{"line":178,"column":3}},"64":{"start":{"line":177,"column":4},"end":{"line":177,"column":77}},"65":{"start":{"line":180,"column":2},"end":{"line":180,"column":44}},"66":{"start":{"line":180,"column":17},"end":{"line":180,"column":44}},"67":{"start":{"line":182,"column":2},"end":{"line":182,"column":27}},"68":{"start":{"line":184,"column":2},"end":{"line":184,"column":47}},"69":{"start":{"line":191,"column":0},"end":{"line":191,"column":32}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]},"3":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]},"4":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"5":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":2},"end":{"line":116,"column":2}},{"start":{"line":116,"column":2},"end":{"line":116,"column":2}}]},"6":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":2},"end":{"line":120,"column":2}},{"start":{"line":120,"column":2},"end":{"line":120,"column":2}}]},"7":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":2},"end":{"line":132,"column":2}},{"start":{"line":132,"column":2},"end":{"line":132,"column":2}}]},"8":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":2},"end":{"line":146,"column":2}},{"start":{"line":146,"column":2},"end":{"line":146,"column":2}}]},"9":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":2},"end":{"line":150,"column":2}},{"start":{"line":150,"column":2},"end":{"line":150,"column":2}}]},"10":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":2},"end":{"line":162,"column":2}},{"start":{"line":162,"column":2},"end":{"line":162,"column":2}}]},"11":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":2},"end":{"line":176,"column":2}},{"start":{"line":176,"column":2},"end":{"line":176,"column":2}}]},"12":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":2},"end":{"line":180,"column":2}},{"start":{"line":180,"column":2},"end":{"line":180,"column":2}}]}},"code":["/**"," * Agent check"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('../errors');","var utils = require('../utils');","","/**"," * Initialize a new `AgentCheck` client."," */","","function AgentCheck(consul) {","  this.consul = consul;","}","","/**"," * Returns the checks the local agent is managing"," */","","AgentCheck.prototype.list = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.check.list',","    path: '/agent/checks',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Registers a new local check"," */","","AgentCheck.prototype.register = function(opts, callback) {","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.check.register',","    path: '/agent/check/register',","    type: 'json',","  };","","  try {","    req.body = utils.createCheck(opts);","  } catch (err) {","    return callback(this.consul._err(errors.Validation(err.message), req));","  }","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Deregister a local check"," */","","AgentCheck.prototype.deregister = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.check.deregister',","    path: '/agent/check/deregister/{id}',","    params: { id: opts.id },","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.empty, callback);","};","","/**"," * Mark a local test as passing"," */","","AgentCheck.prototype.pass = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.check.pass',","    path: '/agent/check/pass/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  if (opts.note) req.query.note = opts.note;","","  utils.options(req, opts);","","  this.consul._get(req, utils.empty, callback);","};","","/**"," * Mark a local test as warning"," */","","AgentCheck.prototype.warn = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.check.warn',","    path: '/agent/check/warn/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  if (opts.note) req.query.note = opts.note;","","  utils.options(req, opts);","","  this.consul._get(req, utils.empty, callback);","};","","/**"," * Mark a local test as critical"," */","","AgentCheck.prototype.fail = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.check.fail',","    path: '/agent/check/fail/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  if (opts.note) req.query.note = opts.note;","","  utils.options(req, opts);","","  this.consul._get(req, utils.empty, callback);","};","","/**"," * Module Exports."," */","","exports.AgentCheck = AgentCheck;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"29":0,"32":0,"33":0,"35":0,"40":0,"42":0,"49":1,"50":0,"51":0,"53":0,"59":0,"60":0,"62":0,"65":0,"67":0,"74":1,"75":0,"76":0,"79":0,"80":0,"82":0,"88":0,"89":0,"92":0,"94":0,"101":1,"102":0,"103":0,"106":0,"107":0,"109":0,"116":0,"117":0,"120":0,"122":0,"124":0,"131":1,"132":0,"133":0,"136":0,"137":0,"139":0,"146":0,"147":0,"150":0,"152":0,"154":0,"161":1,"162":0,"163":0,"166":0,"167":0,"169":0,"176":0,"177":0,"180":0,"182":0,"184":0,"191":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/agent/service.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/agent/service.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"AgentService","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":30},"end":{"line":26,"column":55}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":34},"end":{"line":49,"column":59}}},"4":{"name":"(anonymous_4)","line":93,"loc":{"start":{"line":93,"column":36},"end":{"line":93,"column":61}}},"5":{"name":"(anonymous_5)","line":120,"loc":{"start":{"line":120,"column":37},"end":{"line":120,"column":62}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":43,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":30,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":14}},"9":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"10":{"start":{"line":33,"column":2},"end":{"line":33,"column":53}},"11":{"start":{"line":35,"column":2},"end":{"line":38,"column":4}},"12":{"start":{"line":40,"column":2},"end":{"line":40,"column":27}},"13":{"start":{"line":42,"column":2},"end":{"line":42,"column":46}},"14":{"start":{"line":49,"column":0},"end":{"line":87,"column":2}},"15":{"start":{"line":50,"column":2},"end":{"line":52,"column":3}},"16":{"start":{"line":51,"column":4},"end":{"line":51,"column":26}},"17":{"start":{"line":54,"column":2},"end":{"line":54,"column":35}},"18":{"start":{"line":55,"column":2},"end":{"line":55,"column":53}},"19":{"start":{"line":57,"column":2},"end":{"line":62,"column":4}},"20":{"start":{"line":64,"column":2},"end":{"line":66,"column":3}},"21":{"start":{"line":65,"column":4},"end":{"line":65,"column":79}},"22":{"start":{"line":68,"column":2},"end":{"line":68,"column":28}},"23":{"start":{"line":69,"column":2},"end":{"line":69,"column":37}},"24":{"start":{"line":69,"column":15},"end":{"line":69,"column":37}},"25":{"start":{"line":70,"column":2},"end":{"line":70,"column":43}},"26":{"start":{"line":70,"column":17},"end":{"line":70,"column":43}},"27":{"start":{"line":71,"column":2},"end":{"line":71,"column":70}},"28":{"start":{"line":71,"column":38},"end":{"line":71,"column":70}},"29":{"start":{"line":72,"column":2},"end":{"line":72,"column":61}},"30":{"start":{"line":72,"column":35},"end":{"line":72,"column":61}},"31":{"start":{"line":74,"column":2},"end":{"line":82,"column":3}},"32":{"start":{"line":75,"column":4},"end":{"line":79,"column":5}},"33":{"start":{"line":76,"column":6},"end":{"line":76,"column":66}},"34":{"start":{"line":77,"column":11},"end":{"line":79,"column":5}},"35":{"start":{"line":78,"column":6},"end":{"line":78,"column":60}},"36":{"start":{"line":81,"column":4},"end":{"line":81,"column":75}},"37":{"start":{"line":84,"column":2},"end":{"line":84,"column":27}},"38":{"start":{"line":86,"column":2},"end":{"line":86,"column":47}},"39":{"start":{"line":93,"column":0},"end":{"line":114,"column":2}},"40":{"start":{"line":94,"column":2},"end":{"line":96,"column":3}},"41":{"start":{"line":95,"column":4},"end":{"line":95,"column":24}},"42":{"start":{"line":98,"column":2},"end":{"line":98,"column":35}},"43":{"start":{"line":99,"column":2},"end":{"line":99,"column":53}},"44":{"start":{"line":101,"column":2},"end":{"line":105,"column":4}},"45":{"start":{"line":107,"column":2},"end":{"line":109,"column":3}},"46":{"start":{"line":108,"column":4},"end":{"line":108,"column":77}},"47":{"start":{"line":111,"column":2},"end":{"line":111,"column":27}},"48":{"start":{"line":113,"column":2},"end":{"line":113,"column":47}},"49":{"start":{"line":120,"column":0},"end":{"line":142,"column":2}},"50":{"start":{"line":121,"column":2},"end":{"line":121,"column":35}},"51":{"start":{"line":122,"column":2},"end":{"line":122,"column":53}},"52":{"start":{"line":124,"column":2},"end":{"line":129,"column":4}},"53":{"start":{"line":131,"column":2},"end":{"line":133,"column":3}},"54":{"start":{"line":132,"column":4},"end":{"line":132,"column":77}},"55":{"start":{"line":134,"column":2},"end":{"line":136,"column":3}},"56":{"start":{"line":135,"column":4},"end":{"line":135,"column":81}},"57":{"start":{"line":137,"column":2},"end":{"line":137,"column":50}},"58":{"start":{"line":137,"column":19},"end":{"line":137,"column":50}},"59":{"start":{"line":139,"column":2},"end":{"line":139,"column":27}},"60":{"start":{"line":141,"column":2},"end":{"line":141,"column":47}},"61":{"start":{"line":148,"column":0},"end":{"line":148,"column":36}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":64,"column":2}},{"start":{"line":64,"column":2},"end":{"line":64,"column":2}}]},"4":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":2},"end":{"line":69,"column":2}},{"start":{"line":69,"column":2},"end":{"line":69,"column":2}}]},"5":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":70,"column":2}},{"start":{"line":70,"column":2},"end":{"line":70,"column":2}}]},"6":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":2},"end":{"line":71,"column":2}},{"start":{"line":71,"column":2},"end":{"line":71,"column":2}}]},"7":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":72,"column":2}},{"start":{"line":72,"column":2},"end":{"line":72,"column":2}}]},"8":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"9":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":11},"end":{"line":77,"column":11}},{"start":{"line":77,"column":11},"end":{"line":77,"column":11}}]},"10":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":2},"end":{"line":94,"column":2}},{"start":{"line":94,"column":2},"end":{"line":94,"column":2}}]},"11":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":2},"end":{"line":107,"column":2}},{"start":{"line":107,"column":2},"end":{"line":107,"column":2}}]},"12":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":2},"end":{"line":131,"column":2}},{"start":{"line":131,"column":2},"end":{"line":131,"column":2}}]},"13":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":2},"end":{"line":134,"column":2}},{"start":{"line":134,"column":2},"end":{"line":134,"column":2}}]},"14":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":2},"end":{"line":137,"column":2}},{"start":{"line":137,"column":2},"end":{"line":137,"column":2}}]}},"code":["/**"," * Agent service"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('../errors');","var utils = require('../utils');","","/**"," * Initialize a new `AgentService` client."," */","","function AgentService(consul) {","  this.consul = consul;","}","","/**"," * Returns the services local agent is managing"," */","","AgentService.prototype.list = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.service.list',","    path: '/agent/services',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Registers a new local service"," */","","AgentService.prototype.register = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { name: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.service.register',","    path: '/agent/service/register',","    type: 'json',","    body: {},","  };","","  if (!opts.name) {","    return callback(this.consul._err(errors.Validation('name required'), req));","  }","","  req.body.Name = opts.name;","  if (opts.id) req.body.ID = opts.id;","  if (opts.tags) req.body.Tags = opts.tags;","  if (opts.hasOwnProperty('address')) req.body.Address = opts.address;","  if (opts.hasOwnProperty('port')) req.body.Port = opts.port;","","  try {","    if (Array.isArray(opts.checks)) {","      req.body.Checks = opts.checks.map(utils.createServiceCheck);","    } else if (opts.check) {","      req.body.Check = utils.createServiceCheck(opts.check);","    }","  } catch (err) {","    return callback(this.consul._err(errors.Validation(err.message), req));","  }","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Deregister a local service"," */","","AgentService.prototype.deregister = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.service.deregister',","    path: '/agent/service/deregister/{id}',","    params: { id: opts.id },","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.empty, callback);","};","","/**"," * Manages node maintenance mode"," */","","AgentService.prototype.maintenance = function(opts, callback) {","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'agent.service.maintenance',","    path: '/agent/service/maintenance/{id}',","    params: { id: opts.id },","    query: { enable: opts.enable },","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","  if (typeof opts.enable !== 'boolean') {","    return callback(this.consul._err(errors.Validation('enable required'), req));","  }","  if (opts.reason) req.query.reason = opts.reason;","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Module Exports."," */","","exports.AgentService = AgentService;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"29":0,"32":0,"33":0,"35":0,"40":0,"42":0,"49":1,"50":0,"51":0,"54":0,"55":0,"57":0,"64":0,"65":0,"68":0,"69":0,"70":0,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"78":0,"81":0,"84":0,"86":0,"93":1,"94":0,"95":0,"98":0,"99":0,"101":0,"107":0,"108":0,"111":0,"113":0,"120":1,"121":0,"122":0,"124":0,"131":0,"132":0,"134":0,"135":0,"137":0,"139":0,"141":0,"148":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/catalog.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/catalog.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":0,"23":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"Catalog","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}}},"2":{"name":"(anonymous_2)","line":32,"loc":{"start":{"line":32,"column":32},"end":{"line":32,"column":57}}},"3":{"name":"(anonymous_3)","line":55,"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":37}}},"4":{"name":"(anonymous_4)","line":63,"loc":{"start":{"line":63,"column":29},"end":{"line":63,"column":40}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":56}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":65}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}},"4":{"start":{"line":19,"column":0},"end":{"line":23,"column":1}},"5":{"start":{"line":20,"column":2},"end":{"line":20,"column":23}},"6":{"start":{"line":21,"column":2},"end":{"line":21,"column":39}},"7":{"start":{"line":22,"column":2},"end":{"line":22,"column":45}},"8":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}},"9":{"start":{"line":26,"column":0},"end":{"line":26,"column":33}},"10":{"start":{"line":32,"column":0},"end":{"line":49,"column":2}},"11":{"start":{"line":33,"column":2},"end":{"line":36,"column":3}},"12":{"start":{"line":34,"column":4},"end":{"line":34,"column":20}},"13":{"start":{"line":35,"column":4},"end":{"line":35,"column":14}},"14":{"start":{"line":38,"column":2},"end":{"line":38,"column":35}},"15":{"start":{"line":39,"column":2},"end":{"line":39,"column":53}},"16":{"start":{"line":41,"column":2},"end":{"line":44,"column":4}},"17":{"start":{"line":46,"column":2},"end":{"line":46,"column":27}},"18":{"start":{"line":48,"column":2},"end":{"line":48,"column":46}},"19":{"start":{"line":55,"column":0},"end":{"line":57,"column":2}},"20":{"start":{"line":56,"column":2},"end":{"line":56,"column":45}},"21":{"start":{"line":63,"column":0},"end":{"line":65,"column":2}},"22":{"start":{"line":64,"column":2},"end":{"line":64,"column":51}},"23":{"start":{"line":71,"column":0},"end":{"line":71,"column":26}}},"branchMap":{"1":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":33,"column":2}},{"start":{"line":33,"column":2},"end":{"line":33,"column":2}}]}},"code":["/**"," * Manage catalog"," */","","'use strict';","","/**"," * Module dependencies."," */","","var CatalogNode = require('./catalog/node').CatalogNode;","var CatalogService = require('./catalog/service').CatalogService;","var utils = require('./utils');","","/**"," * Initialize a new `Catalog` client."," */","","function Catalog(consul) {","  this.consul = consul;","  this.node = new Catalog.Node(consul);","  this.service = new Catalog.Service(consul);","}","","Catalog.Node = CatalogNode;","Catalog.Service = CatalogService;","","/**"," * Lists known datacenters"," */","","Catalog.prototype.datacenters = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'catalog.datacenters',","    path: '/catalog/datacenters',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Lists nodes in a given DC"," */","","Catalog.prototype.nodes = function() {","  this.node.list.apply(this.node, arguments);","};","","/**"," * Lists services in a given DC"," */","","Catalog.prototype.services = function() {","  this.service.list.apply(this.service, arguments);","};","","/**"," * Module exports."," */","","exports.Catalog = Catalog;",""],"l":{"11":1,"12":1,"13":1,"19":1,"20":0,"21":0,"22":0,"25":1,"26":1,"32":1,"33":0,"34":0,"35":0,"38":0,"39":0,"41":0,"46":0,"48":0,"55":1,"56":0,"63":1,"64":0,"71":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/catalog/node.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/catalog/node.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"CatalogNode","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":29}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":29},"end":{"line":26,"column":54}}},"3":{"name":"(anonymous_3)","line":51,"loc":{"start":{"line":51,"column":33},"end":{"line":51,"column":58}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":45,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":32,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":14}},"9":{"start":{"line":30,"column":9},"end":{"line":32,"column":3}},"10":{"start":{"line":31,"column":4},"end":{"line":31,"column":24}},"11":{"start":{"line":34,"column":2},"end":{"line":34,"column":35}},"12":{"start":{"line":35,"column":2},"end":{"line":35,"column":53}},"13":{"start":{"line":37,"column":2},"end":{"line":40,"column":4}},"14":{"start":{"line":42,"column":2},"end":{"line":42,"column":27}},"15":{"start":{"line":44,"column":2},"end":{"line":44,"column":46}},"16":{"start":{"line":51,"column":0},"end":{"line":72,"column":2}},"17":{"start":{"line":52,"column":2},"end":{"line":54,"column":3}},"18":{"start":{"line":53,"column":4},"end":{"line":53,"column":26}},"19":{"start":{"line":56,"column":2},"end":{"line":56,"column":35}},"20":{"start":{"line":57,"column":2},"end":{"line":57,"column":53}},"21":{"start":{"line":59,"column":2},"end":{"line":63,"column":4}},"22":{"start":{"line":65,"column":2},"end":{"line":67,"column":3}},"23":{"start":{"line":66,"column":4},"end":{"line":66,"column":79}},"24":{"start":{"line":69,"column":2},"end":{"line":69,"column":27}},"25":{"start":{"line":71,"column":2},"end":{"line":71,"column":46}},"26":{"start":{"line":78,"column":0},"end":{"line":78,"column":34}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":9},"end":{"line":30,"column":9}},{"start":{"line":30,"column":9},"end":{"line":30,"column":9}}]},"3":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":2},"end":{"line":52,"column":2}},{"start":{"line":52,"column":2},"end":{"line":52,"column":2}}]},"4":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]}},"code":["/**"," * Catalog node"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('../errors');","var utils = require('../utils');","","/**"," * Initialize a new `CatalogNode` client."," */","","function CatalogNode(consul) {","  this.consul = consul;","}","","/**"," * Lists nodes in a given DC"," */","","CatalogNode.prototype.list = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  } else if (typeof opts === 'string') {","    opts = { dc: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'catalog.node.list',","    path: '/catalog/nodes',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Lists the services provided by a node"," */","","CatalogNode.prototype.services = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { node: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'catalog.node.services',","    path: '/catalog/node/{node}',","    params: { node: opts.node },","  };","","  if (!opts.node) {","    return callback(this.consul._err(errors.Validation('node required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Module Exports."," */","","exports.CatalogNode = CatalogNode;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"34":0,"35":0,"37":0,"42":0,"44":0,"51":1,"52":0,"53":0,"56":0,"57":0,"59":0,"65":0,"66":0,"69":0,"71":0,"78":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/catalog/service.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/catalog/service.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"CatalogService","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":32}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":32},"end":{"line":26,"column":57}}},"3":{"name":"(anonymous_3)","line":52,"loc":{"start":{"line":52,"column":33},"end":{"line":52,"column":58}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":46,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":32,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":14}},"9":{"start":{"line":30,"column":9},"end":{"line":32,"column":3}},"10":{"start":{"line":31,"column":4},"end":{"line":31,"column":24}},"11":{"start":{"line":34,"column":2},"end":{"line":34,"column":35}},"12":{"start":{"line":35,"column":2},"end":{"line":35,"column":53}},"13":{"start":{"line":37,"column":2},"end":{"line":41,"column":4}},"14":{"start":{"line":43,"column":2},"end":{"line":43,"column":27}},"15":{"start":{"line":45,"column":2},"end":{"line":45,"column":46}},"16":{"start":{"line":52,"column":0},"end":{"line":75,"column":2}},"17":{"start":{"line":53,"column":2},"end":{"line":55,"column":3}},"18":{"start":{"line":54,"column":4},"end":{"line":54,"column":29}},"19":{"start":{"line":57,"column":2},"end":{"line":57,"column":35}},"20":{"start":{"line":58,"column":2},"end":{"line":58,"column":53}},"21":{"start":{"line":60,"column":2},"end":{"line":65,"column":4}},"22":{"start":{"line":67,"column":2},"end":{"line":69,"column":3}},"23":{"start":{"line":68,"column":4},"end":{"line":68,"column":82}},"24":{"start":{"line":70,"column":2},"end":{"line":70,"column":41}},"25":{"start":{"line":70,"column":16},"end":{"line":70,"column":41}},"26":{"start":{"line":72,"column":2},"end":{"line":72,"column":27}},"27":{"start":{"line":74,"column":2},"end":{"line":74,"column":46}},"28":{"start":{"line":81,"column":0},"end":{"line":81,"column":40}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":9},"end":{"line":30,"column":9}},{"start":{"line":30,"column":9},"end":{"line":30,"column":9}}]},"3":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":53,"column":2}},{"start":{"line":53,"column":2},"end":{"line":53,"column":2}}]},"4":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":2},"end":{"line":67,"column":2}},{"start":{"line":67,"column":2},"end":{"line":67,"column":2}}]},"5":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":70,"column":2}},{"start":{"line":70,"column":2},"end":{"line":70,"column":2}}]}},"code":["/**"," * Catalog service"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('../errors');","var utils = require('../utils');","","/**"," * Initialize a new `CatalogService` client."," */","","function CatalogService(consul) {","  this.consul = consul;","}","","/**"," * Lists services in a given DC"," */","","CatalogService.prototype.list = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  } else if (typeof opts === 'string') {","    opts = { dc: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'catalog.service.list',","    path: '/catalog/services',","    query: {},","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Lists the nodes in a given service"," */","","CatalogService.prototype.nodes = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { service: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'catalog.service.nodes',","    path: '/catalog/service/{service}',","    params: { service: opts.service },","    query: {},","  };","","  if (!opts.service) {","    return callback(this.consul._err(errors.Validation('service required'), req));","  }","  if (opts.tag) req.query.tag = opts.tag;","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Module Exports."," */","","exports.CatalogService = CatalogService;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"34":0,"35":0,"37":0,"43":0,"45":0,"52":1,"53":0,"54":0,"57":0,"58":0,"60":0,"67":0,"68":0,"70":0,"72":0,"74":0,"81":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/event.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/event.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"Event","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":23}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":23},"end":{"line":26,"column":48}}},"3":{"name":"(anonymous_3)","line":63,"loc":{"start":{"line":63,"column":36},"end":{"line":63,"column":61}}},"4":{"name":"(anonymous_4)","line":78,"loc":{"start":{"line":78,"column":23},"end":{"line":78,"column":48}}},"5":{"name":"(anonymous_5)","line":99,"loc":{"start":{"line":99,"column":36},"end":{"line":99,"column":61}}},"6":{"name":"(anonymous_6)","line":102,"loc":{"start":{"line":102,"column":17},"end":{"line":102,"column":32}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":72,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":35,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":31,"column":6}},"8":{"start":{"line":32,"column":4},"end":{"line":32,"column":28}},"9":{"start":{"line":33,"column":9},"end":{"line":35,"column":3}},"10":{"start":{"line":34,"column":4},"end":{"line":34,"column":26}},"11":{"start":{"line":37,"column":2},"end":{"line":37,"column":35}},"12":{"start":{"line":38,"column":2},"end":{"line":38,"column":53}},"13":{"start":{"line":40,"column":2},"end":{"line":45,"column":4}},"14":{"start":{"line":47,"column":2},"end":{"line":49,"column":3}},"15":{"start":{"line":48,"column":4},"end":{"line":48,"column":79}},"16":{"start":{"line":51,"column":2},"end":{"line":51,"column":13}},"17":{"start":{"line":53,"column":2},"end":{"line":56,"column":3}},"18":{"start":{"line":54,"column":4},"end":{"line":54,"column":43}},"19":{"start":{"line":55,"column":4},"end":{"line":55,"column":64}},"20":{"start":{"line":57,"column":2},"end":{"line":57,"column":44}},"21":{"start":{"line":57,"column":17},"end":{"line":57,"column":44}},"22":{"start":{"line":58,"column":2},"end":{"line":58,"column":53}},"23":{"start":{"line":58,"column":20},"end":{"line":58,"column":53}},"24":{"start":{"line":59,"column":2},"end":{"line":59,"column":41}},"25":{"start":{"line":59,"column":16},"end":{"line":59,"column":41}},"26":{"start":{"line":61,"column":2},"end":{"line":61,"column":27}},"27":{"start":{"line":63,"column":2},"end":{"line":71,"column":5}},"28":{"start":{"line":64,"column":4},"end":{"line":64,"column":50}},"29":{"start":{"line":64,"column":13},"end":{"line":64,"column":50}},"30":{"start":{"line":66,"column":4},"end":{"line":68,"column":5}},"31":{"start":{"line":67,"column":6},"end":{"line":67,"column":68}},"32":{"start":{"line":70,"column":4},"end":{"line":70,"column":30}},"33":{"start":{"line":78,"column":0},"end":{"line":109,"column":2}},"34":{"start":{"line":79,"column":2},"end":{"line":84,"column":3}},"35":{"start":{"line":80,"column":4},"end":{"line":80,"column":26}},"36":{"start":{"line":81,"column":9},"end":{"line":84,"column":3}},"37":{"start":{"line":82,"column":4},"end":{"line":82,"column":20}},"38":{"start":{"line":83,"column":4},"end":{"line":83,"column":14}},"39":{"start":{"line":86,"column":2},"end":{"line":86,"column":35}},"40":{"start":{"line":87,"column":2},"end":{"line":87,"column":53}},"41":{"start":{"line":89,"column":2},"end":{"line":93,"column":4}},"42":{"start":{"line":95,"column":2},"end":{"line":95,"column":44}},"43":{"start":{"line":95,"column":17},"end":{"line":95,"column":44}},"44":{"start":{"line":97,"column":2},"end":{"line":97,"column":27}},"45":{"start":{"line":99,"column":2},"end":{"line":108,"column":5}},"46":{"start":{"line":100,"column":4},"end":{"line":100,"column":50}},"47":{"start":{"line":100,"column":13},"end":{"line":100,"column":50}},"48":{"start":{"line":102,"column":4},"end":{"line":105,"column":7}},"49":{"start":{"line":103,"column":6},"end":{"line":103,"column":50}},"50":{"start":{"line":103,"column":43},"end":{"line":103,"column":50}},"51":{"start":{"line":104,"column":6},"end":{"line":104,"column":54}},"52":{"start":{"line":107,"column":4},"end":{"line":107,"column":30}},"53":{"start":{"line":115,"column":0},"end":{"line":115,"column":22}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":9},"end":{"line":33,"column":9}},{"start":{"line":33,"column":9},"end":{"line":33,"column":9}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"4":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":53,"column":2}},{"start":{"line":53,"column":2},"end":{"line":53,"column":2}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":55,"column":24},"end":{"line":55,"column":36}},{"start":{"line":55,"column":39},"end":{"line":55,"column":63}}]},"6":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]},"7":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":2},"end":{"line":58,"column":2}},{"start":{"line":58,"column":2},"end":{"line":58,"column":2}}]},"8":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":2},"end":{"line":59,"column":2}},{"start":{"line":59,"column":2},"end":{"line":59,"column":2}}]},"9":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"10":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"11":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":2},"end":{"line":79,"column":2}},{"start":{"line":79,"column":2},"end":{"line":79,"column":2}}]},"12":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":9},"end":{"line":81,"column":9}},{"start":{"line":81,"column":9},"end":{"line":81,"column":9}}]},"13":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":2},"end":{"line":95,"column":2}},{"start":{"line":95,"column":2},"end":{"line":95,"column":2}}]},"14":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":4}},{"start":{"line":100,"column":4},"end":{"line":100,"column":4}}]},"15":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":6},"end":{"line":103,"column":6}},{"start":{"line":103,"column":6},"end":{"line":103,"column":6}}]}},"code":["/**"," * Events"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Event` client."," */","","function Event(consul) {","  this.consul = consul;","}","","/**"," * Fires a new user event"," */","","Event.prototype.fire = function(opts, callback) {","  if (arguments.length === 3) {","    opts = {","      name: arguments[0],","      payload: arguments[1],","    };","    callback = arguments[2];","  } else if (typeof opts === 'string') {","    opts = { name: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'event.fire',","    path: '/event/fire/{name}',","    params: { name: opts.name },","    query: {},","  };","","  if (!opts.name) {","    return callback(this.consul._err(errors.Validation('name required'), req));","  }","","  var buffer;","","  if (opts.hasOwnProperty('payload')) {","    buffer = Buffer.isBuffer(opts.payload);","    req.body = buffer ? opts.payload : new Buffer(opts.payload);","  }","  if (opts.node) req.query.node = opts.node;","  if (opts.service) req.query.service = opts.service;","  if (opts.tag) req.query.tag = opts.tag;","","  utils.options(req, opts);","","  this.consul._put(req, utils.body, function(err, data, res) {","    if (err) return callback(err, undefined, res);","","    if (data.hasOwnProperty('Payload')) {","      data.Payload = utils.decode(data.Payload, { buffer: buffer });","    }","","    callback(null, data, res);","  });","};","","/**"," * Lists the most recent events an agent has seen"," */","","Event.prototype.list = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { name: opts };","  } else if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'event.list',","    path: '/event/list',","    query: {},","  };","","  if (opts.name) req.query.name = opts.name;","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, function(err, data, res) {","    if (err) return callback(err, undefined, res);","","    data.forEach(function(item) {","      if (!item.hasOwnProperty('Payload')) return;","      item.Payload = utils.decode(item.Payload, opts);","    });","","    callback(null, data, res);","  });","};","","/**"," * Module exports."," */","","exports.Event = Event;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"32":0,"33":0,"34":0,"37":0,"38":0,"40":0,"47":0,"48":0,"51":0,"53":0,"54":0,"55":0,"57":0,"58":0,"59":0,"61":0,"63":0,"64":0,"66":0,"67":0,"70":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"86":0,"87":0,"89":0,"95":0,"97":0,"99":0,"100":0,"102":0,"103":0,"104":0,"107":0,"115":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/health.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/health.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"Health","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":24}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":49}}},"3":{"name":"(anonymous_3)","line":54,"loc":{"start":{"line":54,"column":26},"end":{"line":54,"column":51}}},"4":{"name":"(anonymous_4)","line":81,"loc":{"start":{"line":81,"column":27},"end":{"line":81,"column":52}}},"5":{"name":"(anonymous_5)","line":112,"loc":{"start":{"line":112,"column":25},"end":{"line":112,"column":50}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}},"4":{"start":{"line":19,"column":0},"end":{"line":21,"column":1}},"5":{"start":{"line":20,"column":2},"end":{"line":20,"column":23}},"6":{"start":{"line":27,"column":0},"end":{"line":48,"column":2}},"7":{"start":{"line":28,"column":2},"end":{"line":30,"column":3}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":26}},"9":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"10":{"start":{"line":33,"column":2},"end":{"line":33,"column":53}},"11":{"start":{"line":35,"column":2},"end":{"line":39,"column":4}},"12":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"13":{"start":{"line":42,"column":4},"end":{"line":42,"column":79}},"14":{"start":{"line":45,"column":2},"end":{"line":45,"column":27}},"15":{"start":{"line":47,"column":2},"end":{"line":47,"column":46}},"16":{"start":{"line":54,"column":0},"end":{"line":75,"column":2}},"17":{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},"18":{"start":{"line":56,"column":4},"end":{"line":56,"column":29}},"19":{"start":{"line":59,"column":2},"end":{"line":59,"column":35}},"20":{"start":{"line":60,"column":2},"end":{"line":60,"column":53}},"21":{"start":{"line":62,"column":2},"end":{"line":66,"column":4}},"22":{"start":{"line":68,"column":2},"end":{"line":70,"column":3}},"23":{"start":{"line":69,"column":4},"end":{"line":69,"column":82}},"24":{"start":{"line":72,"column":2},"end":{"line":72,"column":27}},"25":{"start":{"line":74,"column":2},"end":{"line":74,"column":46}},"26":{"start":{"line":81,"column":0},"end":{"line":106,"column":2}},"27":{"start":{"line":82,"column":2},"end":{"line":84,"column":3}},"28":{"start":{"line":83,"column":4},"end":{"line":83,"column":29}},"29":{"start":{"line":86,"column":2},"end":{"line":86,"column":35}},"30":{"start":{"line":87,"column":2},"end":{"line":87,"column":53}},"31":{"start":{"line":89,"column":2},"end":{"line":94,"column":4}},"32":{"start":{"line":96,"column":2},"end":{"line":98,"column":3}},"33":{"start":{"line":97,"column":4},"end":{"line":97,"column":82}},"34":{"start":{"line":100,"column":2},"end":{"line":100,"column":41}},"35":{"start":{"line":100,"column":16},"end":{"line":100,"column":41}},"36":{"start":{"line":101,"column":2},"end":{"line":101,"column":47}},"37":{"start":{"line":101,"column":20},"end":{"line":101,"column":47}},"38":{"start":{"line":103,"column":2},"end":{"line":103,"column":27}},"39":{"start":{"line":105,"column":2},"end":{"line":105,"column":46}},"40":{"start":{"line":112,"column":0},"end":{"line":137,"column":2}},"41":{"start":{"line":113,"column":2},"end":{"line":115,"column":3}},"42":{"start":{"line":114,"column":4},"end":{"line":114,"column":27}},"43":{"start":{"line":117,"column":2},"end":{"line":117,"column":35}},"44":{"start":{"line":118,"column":2},"end":{"line":118,"column":53}},"45":{"start":{"line":120,"column":2},"end":{"line":124,"column":4}},"46":{"start":{"line":126,"column":2},"end":{"line":128,"column":3}},"47":{"start":{"line":127,"column":4},"end":{"line":127,"column":80}},"48":{"start":{"line":130,"column":2},"end":{"line":132,"column":3}},"49":{"start":{"line":131,"column":4},"end":{"line":131,"column":94}},"50":{"start":{"line":134,"column":2},"end":{"line":134,"column":27}},"51":{"start":{"line":136,"column":2},"end":{"line":136,"column":46}},"52":{"start":{"line":143,"column":0},"end":{"line":143,"column":24}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":28,"column":2}},{"start":{"line":28,"column":2},"end":{"line":28,"column":2}}]},"2":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":41,"column":2}},{"start":{"line":41,"column":2},"end":{"line":41,"column":2}}]},"3":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":2},"end":{"line":55,"column":2}},{"start":{"line":55,"column":2},"end":{"line":55,"column":2}}]},"4":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":2},"end":{"line":68,"column":2}},{"start":{"line":68,"column":2},"end":{"line":68,"column":2}}]},"5":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":82,"column":2}},{"start":{"line":82,"column":2},"end":{"line":82,"column":2}}]},"6":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":2},"end":{"line":96,"column":2}},{"start":{"line":96,"column":2},"end":{"line":96,"column":2}}]},"7":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":100,"column":2}},{"start":{"line":100,"column":2},"end":{"line":100,"column":2}}]},"8":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]},"9":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":2},"end":{"line":113,"column":2}},{"start":{"line":113,"column":2},"end":{"line":113,"column":2}}]},"10":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":2},"end":{"line":126,"column":2}},{"start":{"line":126,"column":2},"end":{"line":126,"column":2}}]},"11":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":2},"end":{"line":130,"column":2}},{"start":{"line":130,"column":2},"end":{"line":130,"column":2}}]},"12":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":6},"end":{"line":130,"column":26}},{"start":{"line":130,"column":30},"end":{"line":130,"column":75}}]}},"code":["/**"," * Health information"," */","","'use strict';","","/**"," * Module dependencies."," */","","var constants = require('./constants');","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Health` client."," */","","function Health(consul) {","  this.consul = consul;","}","","/**"," * Returns the health info of a node"," */","","Health.prototype.node = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { node: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'health.node',","    path: '/health/node/{node}',","    params: { node: opts.node },","  };","","  if (!opts.node) {","    return callback(this.consul._err(errors.Validation('node required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Returns the checks of a service"," */","","Health.prototype.checks = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { service: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'health.checks',","    path: '/health/checks/{service}',","    params: { service: opts.service },","  };","","  if (!opts.service) {","    return callback(this.consul._err(errors.Validation('service required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Returns the nodes and health info of a service"," */","","Health.prototype.service = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { service: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'health.service',","    path: '/health/service/{service}',","    params: { service: opts.service },","    query: {},","  };","","  if (!opts.service) {","    return callback(this.consul._err(errors.Validation('service required'), req));","  }","","  if (opts.tag) req.query.tag = opts.tag;","  if (opts.passing) req.query.passing = 'true';","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Returns the checks in a given state"," */","","Health.prototype.state = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { state: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'health.state',","    path: '/health/state/{state}',","    params: { state: opts.state },","  };","","  if (!opts.state) {","    return callback(this.consul._err(errors.Validation('state required'), req));","  }","","  if (opts.state !== 'any' && constants.CHECK_STATE.indexOf(opts.state) < 0) {","    return callback(this.consul._err(errors.Validation('state invalid: ' + opts.state), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Module exports."," */","","exports.Health = Health;",""],"l":{"11":1,"12":1,"13":1,"19":1,"20":0,"27":1,"28":0,"29":0,"32":0,"33":0,"35":0,"41":0,"42":0,"45":0,"47":0,"54":1,"55":0,"56":0,"59":0,"60":0,"62":0,"68":0,"69":0,"72":0,"74":0,"81":1,"82":0,"83":0,"86":0,"87":0,"89":0,"96":0,"97":0,"100":0,"101":0,"103":0,"105":0,"112":1,"113":0,"114":0,"117":0,"118":0,"120":0,"126":0,"127":0,"130":0,"131":0,"134":0,"136":0,"143":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/kv.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/kv.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":1,"88":1,"89":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"Kv","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":20}}},"2":{"name":"(anonymous_2)","line":32,"loc":{"start":{"line":32,"column":19},"end":{"line":32,"column":44}}},"3":{"name":"(anonymous_3)","line":55,"loc":{"start":{"line":55,"column":24},"end":{"line":55,"column":43}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":23},"end":{"line":61,"column":38}}},"5":{"name":"(anonymous_5)","line":79,"loc":{"start":{"line":79,"column":20},"end":{"line":79,"column":45}}},"6":{"name":"(anonymous_6)","line":111,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":44}}},"7":{"name":"(anonymous_7)","line":163,"loc":{"start":{"line":163,"column":19},"end":{"line":163,"column":44}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":26,"column":13}},"6":{"start":{"line":32,"column":0},"end":{"line":73,"column":2}},"7":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"8":{"start":{"line":34,"column":4},"end":{"line":34,"column":25}},"9":{"start":{"line":37,"column":2},"end":{"line":37,"column":35}},"10":{"start":{"line":38,"column":2},"end":{"line":38,"column":53}},"11":{"start":{"line":40,"column":2},"end":{"line":45,"column":4}},"12":{"start":{"line":47,"column":2},"end":{"line":47,"column":47}},"13":{"start":{"line":47,"column":20},"end":{"line":47,"column":47}},"14":{"start":{"line":48,"column":2},"end":{"line":51,"column":3}},"15":{"start":{"line":49,"column":4},"end":{"line":49,"column":27}},"16":{"start":{"line":50,"column":4},"end":{"line":50,"column":22}},"17":{"start":{"line":53,"column":2},"end":{"line":53,"column":27}},"18":{"start":{"line":55,"column":2},"end":{"line":72,"column":5}},"19":{"start":{"line":56,"column":4},"end":{"line":56,"column":82}},"20":{"start":{"line":56,"column":39},"end":{"line":56,"column":82}},"21":{"start":{"line":57,"column":4},"end":{"line":57,"column":50}},"22":{"start":{"line":57,"column":13},"end":{"line":57,"column":50}},"23":{"start":{"line":58,"column":4},"end":{"line":58,"column":55}},"24":{"start":{"line":58,"column":18},"end":{"line":58,"column":55}},"25":{"start":{"line":60,"column":4},"end":{"line":67,"column":5}},"26":{"start":{"line":61,"column":6},"end":{"line":64,"column":9}},"27":{"start":{"line":62,"column":8},"end":{"line":62,"column":50}},"28":{"start":{"line":62,"column":43},"end":{"line":62,"column":50}},"29":{"start":{"line":63,"column":8},"end":{"line":63,"column":52}},"30":{"start":{"line":66,"column":6},"end":{"line":66,"column":49}},"31":{"start":{"line":69,"column":4},"end":{"line":69,"column":63}},"32":{"start":{"line":69,"column":23},"end":{"line":69,"column":63}},"33":{"start":{"line":71,"column":4},"end":{"line":71,"column":34}},"34":{"start":{"line":79,"column":0},"end":{"line":105,"column":2}},"35":{"start":{"line":80,"column":2},"end":{"line":88,"column":3}},"36":{"start":{"line":82,"column":6},"end":{"line":82,"column":27}},"37":{"start":{"line":83,"column":6},"end":{"line":83,"column":12}},"38":{"start":{"line":85,"column":6},"end":{"line":85,"column":22}},"39":{"start":{"line":86,"column":6},"end":{"line":86,"column":16}},"40":{"start":{"line":87,"column":6},"end":{"line":87,"column":12}},"41":{"start":{"line":90,"column":2},"end":{"line":90,"column":35}},"42":{"start":{"line":91,"column":2},"end":{"line":91,"column":53}},"43":{"start":{"line":93,"column":2},"end":{"line":98,"column":4}},"44":{"start":{"line":100,"column":2},"end":{"line":100,"column":59}},"45":{"start":{"line":100,"column":22},"end":{"line":100,"column":59}},"46":{"start":{"line":102,"column":2},"end":{"line":102,"column":27}},"47":{"start":{"line":104,"column":2},"end":{"line":104,"column":46}},"48":{"start":{"line":111,"column":0},"end":{"line":157,"column":2}},"49":{"start":{"line":112,"column":2},"end":{"line":128,"column":3}},"50":{"start":{"line":115,"column":6},"end":{"line":115,"column":26}},"51":{"start":{"line":116,"column":6},"end":{"line":116,"column":30}},"52":{"start":{"line":117,"column":6},"end":{"line":117,"column":32}},"53":{"start":{"line":118,"column":6},"end":{"line":118,"column":30}},"54":{"start":{"line":119,"column":6},"end":{"line":119,"column":12}},"55":{"start":{"line":122,"column":6},"end":{"line":125,"column":8}},"56":{"start":{"line":126,"column":6},"end":{"line":126,"column":30}},"57":{"start":{"line":127,"column":6},"end":{"line":127,"column":12}},"58":{"start":{"line":130,"column":2},"end":{"line":130,"column":35}},"59":{"start":{"line":131,"column":2},"end":{"line":131,"column":53}},"60":{"start":{"line":133,"column":2},"end":{"line":140,"column":4}},"61":{"start":{"line":142,"column":2},"end":{"line":144,"column":3}},"62":{"start":{"line":143,"column":4},"end":{"line":143,"column":78}},"63":{"start":{"line":145,"column":2},"end":{"line":147,"column":3}},"64":{"start":{"line":146,"column":4},"end":{"line":146,"column":80}},"65":{"start":{"line":149,"column":2},"end":{"line":149,"column":59}},"66":{"start":{"line":149,"column":34},"end":{"line":149,"column":59}},"67":{"start":{"line":150,"column":2},"end":{"line":150,"column":65}},"68":{"start":{"line":150,"column":36},"end":{"line":150,"column":65}},"69":{"start":{"line":151,"column":2},"end":{"line":151,"column":71}},"70":{"start":{"line":151,"column":38},"end":{"line":151,"column":71}},"71":{"start":{"line":152,"column":2},"end":{"line":152,"column":71}},"72":{"start":{"line":152,"column":38},"end":{"line":152,"column":71}},"73":{"start":{"line":154,"column":2},"end":{"line":154,"column":27}},"74":{"start":{"line":156,"column":2},"end":{"line":156,"column":46}},"75":{"start":{"line":163,"column":0},"end":{"line":185,"column":2}},"76":{"start":{"line":164,"column":2},"end":{"line":166,"column":3}},"77":{"start":{"line":165,"column":4},"end":{"line":165,"column":25}},"78":{"start":{"line":168,"column":2},"end":{"line":168,"column":35}},"79":{"start":{"line":169,"column":2},"end":{"line":169,"column":53}},"80":{"start":{"line":171,"column":2},"end":{"line":176,"column":4}},"81":{"start":{"line":178,"column":2},"end":{"line":178,"column":47}},"82":{"start":{"line":178,"column":20},"end":{"line":178,"column":47}},"83":{"start":{"line":180,"column":2},"end":{"line":180,"column":59}},"84":{"start":{"line":180,"column":34},"end":{"line":180,"column":59}},"85":{"start":{"line":182,"column":2},"end":{"line":182,"column":27}},"86":{"start":{"line":184,"column":2},"end":{"line":184,"column":50}},"87":{"start":{"line":187,"column":0},"end":{"line":187,"column":35}},"88":{"start":{"line":189,"column":0},"end":{"line":189,"column":39}},"89":{"start":{"line":195,"column":0},"end":{"line":195,"column":16}}},"branchMap":{"1":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":33,"column":2}},{"start":{"line":33,"column":2},"end":{"line":33,"column":2}}]},"2":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":20},"end":{"line":43,"column":28}},{"start":{"line":43,"column":32},"end":{"line":43,"column":34}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":2},"end":{"line":48,"column":2}},{"start":{"line":48,"column":2},"end":{"line":48,"column":2}}]},"5":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"6":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":11}},{"start":{"line":56,"column":15},"end":{"line":56,"column":37}}]},"7":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"8":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":4}},{"start":{"line":58,"column":4},"end":{"line":58,"column":4}}]},"9":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":4}},{"start":{"line":60,"column":4},"end":{"line":60,"column":4}}]},"10":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":16}},{"start":{"line":60,"column":20},"end":{"line":60,"column":43}},{"start":{"line":60,"column":47},"end":{"line":60,"column":62}}]},"11":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":8}},{"start":{"line":62,"column":8},"end":{"line":62,"column":8}}]},"12":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":4}},{"start":{"line":69,"column":4},"end":{"line":69,"column":4}}]},"13":{"line":80,"type":"switch","locations":[{"start":{"line":81,"column":4},"end":{"line":83,"column":12}},{"start":{"line":84,"column":4},"end":{"line":87,"column":12}}]},"14":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":20},"end":{"line":96,"column":28}},{"start":{"line":96,"column":32},"end":{"line":96,"column":34}}]},"15":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":100,"column":2}},{"start":{"line":100,"column":2},"end":{"line":100,"column":2}}]},"16":{"line":112,"type":"switch","locations":[{"start":{"line":113,"column":4},"end":{"line":119,"column":12}},{"start":{"line":120,"column":4},"end":{"line":127,"column":12}}]},"17":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":10},"end":{"line":139,"column":20}},{"start":{"line":139,"column":24},"end":{"line":139,"column":26}}]},"18":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":2},"end":{"line":142,"column":2}},{"start":{"line":142,"column":2},"end":{"line":142,"column":2}}]},"19":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":2},"end":{"line":145,"column":2}},{"start":{"line":145,"column":2},"end":{"line":145,"column":2}}]},"20":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":2},"end":{"line":149,"column":2}},{"start":{"line":149,"column":2},"end":{"line":149,"column":2}}]},"21":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":2},"end":{"line":150,"column":2}},{"start":{"line":150,"column":2},"end":{"line":150,"column":2}}]},"22":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":2},"end":{"line":151,"column":2}},{"start":{"line":151,"column":2},"end":{"line":151,"column":2}}]},"23":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":2},"end":{"line":152,"column":2}},{"start":{"line":152,"column":2},"end":{"line":152,"column":2}}]},"24":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":2},"end":{"line":164,"column":2}},{"start":{"line":164,"column":2},"end":{"line":164,"column":2}}]},"25":{"line":174,"type":"binary-expr","locations":[{"start":{"line":174,"column":20},"end":{"line":174,"column":28}},{"start":{"line":174,"column":32},"end":{"line":174,"column":34}}]},"26":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":2},"end":{"line":178,"column":2}},{"start":{"line":178,"column":2},"end":{"line":178,"column":2}}]},"27":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":2},"end":{"line":180,"column":2}},{"start":{"line":180,"column":2},"end":{"line":180,"column":2}}]}},"code":["/**"," * Key/Value store"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Session` client."," */","","function Kv(consul) {","  this.consul = consul;","}","","/**"," * Object meta"," */","","Kv.meta = {};","","/**"," * Get"," */","","Kv.prototype.get = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { key: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'kv.get',","    path: '/kv/{key}',","    params: { key: (opts.key || '') },","    query: {},","  };","","  if (opts.recurse) req.query.recurse = 'true';","  if (opts.raw) {","    req.query.raw = 'true';","    req.buffer = true;","  }","","  utils.options(req, opts);","","  this.consul._get(req, function(err, res) {","    if (res && res.statusCode === 404) return callback(undefined, undefined, res);","    if (err) return callback(err, undefined, res);","    if (opts.raw) return callback(null, res.body, res);","","    if (res.body && Array.isArray(res.body) && res.body.length) {","      res.body.forEach(function(item) {","        if (!item.hasOwnProperty('Value')) return;","        item.Value = utils.decode(item.Value, opts);","      });","    } else {","      return callback(undefined, undefined, res);","    }","","    if (!opts.recurse) return callback(null, res.body[0], res);","","    callback(null, res.body, res);","  });","};","","/**"," * Keys"," */","","Kv.prototype.keys = function(opts, callback) {","  switch (typeof opts) {","    case 'string':","      opts = { key: opts };","      break;","    case 'function':","      callback = opts;","      opts = {};","      break;","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'kv.keys',","    path: '/kv/{key}',","    params: { key: (opts.key || '') },","    query: { keys: true },","  };","","  if (opts.separator) req.query.separator = opts.separator;","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Set"," */","","Kv.prototype.set = function(opts, callback) {","  switch (arguments.length) {","    case 4:","      // set(key, value, opts, callback)","      opts = arguments[2];","      opts.key = arguments[0];","      opts.value = arguments[1];","      callback = arguments[3];","      break;","    case 3:","      // set(key, value, callback)","      opts = {","        key: arguments[0],","        value: arguments[1],","      };","      callback = arguments[2];","      break;","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'kv.set',","    path: '/kv/{key}',","    params: { key: opts.key },","    query: {},","    type: 'text',","    body: opts.value || '',","  };","","  if (!opts.key) {","    return callback(this.consul._err(errors.Validation('key required'), req));","  }","  if (!opts.hasOwnProperty('value')) {","    return callback(this.consul._err(errors.Validation('value required'), req));","  }","","  if (opts.hasOwnProperty('cas')) req.query.cas = opts.cas;","  if (opts.hasOwnProperty('flags')) req.query.flags = opts.flags;","  if (opts.hasOwnProperty('acquire')) req.query.acquire = opts.acquire;","  if (opts.hasOwnProperty('release')) req.query.release = opts.release;","","  utils.options(req, opts);","","  this.consul._put(req, utils.body, callback);","};","","/**"," * Delete"," */","","Kv.prototype.del = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { key: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'kv.del',","    path: '/kv/{key}',","    params: { key: (opts.key || '') },","    query: {},","  };","","  if (opts.recurse) req.query.recurse = 'true';","","  if (opts.hasOwnProperty('cas')) req.query.cas = opts.cas;","","  utils.options(req, opts);","","  this.consul._delete(req, utils.empty, callback);","};","","Kv.meta.delete = { type: 'alias' };","","Kv.prototype.delete = Kv.prototype.del;","","/**"," * Module exports."," */","","exports.Kv = Kv;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"32":1,"33":0,"34":0,"37":0,"38":0,"40":0,"47":0,"48":0,"49":0,"50":0,"53":0,"55":0,"56":0,"57":0,"58":0,"60":0,"61":0,"62":0,"63":0,"66":0,"69":0,"71":0,"79":1,"80":0,"82":0,"83":0,"85":0,"86":0,"87":0,"90":0,"91":0,"93":0,"100":0,"102":0,"104":0,"111":1,"112":0,"115":0,"116":0,"117":0,"118":0,"119":0,"122":0,"126":0,"127":0,"130":0,"131":0,"133":0,"142":0,"143":0,"145":0,"146":0,"149":0,"150":0,"151":0,"152":0,"154":0,"156":0,"163":1,"164":0,"165":0,"168":0,"169":0,"171":0,"178":0,"180":0,"182":0,"184":0,"187":1,"189":1,"195":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/lock.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/lock.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":1},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"fnMap":{"1":{"name":"Lock","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":28}}},"2":{"name":"(anonymous_2)","line":77,"loc":{"start":{"line":77,"column":25},"end":{"line":77,"column":36}}},"3":{"name":"(anonymous_3)","line":94,"loc":{"start":{"line":94,"column":19},"end":{"line":94,"column":30}}},"4":{"name":"(anonymous_4)","line":105,"loc":{"start":{"line":105,"column":25},"end":{"line":105,"column":36}}},"5":{"name":"(anonymous_5)","line":114,"loc":{"start":{"line":114,"column":19},"end":{"line":114,"column":30}}},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":22},"end":{"line":123,"column":41}}},"7":{"name":"(anonymous_7)","line":133,"loc":{"start":{"line":133,"column":22},"end":{"line":133,"column":36}}},"8":{"name":"(anonymous_8)","line":154,"loc":{"start":{"line":154,"column":26},"end":{"line":154,"column":40}}},"9":{"name":"(anonymous_9)","line":164,"loc":{"start":{"line":164,"column":37},"end":{"line":164,"column":62}}},"10":{"name":"(anonymous_10)","line":180,"loc":{"start":{"line":180,"column":37},"end":{"line":180,"column":48}}},"11":{"name":"(anonymous_11)","line":187,"loc":{"start":{"line":187,"column":40},"end":{"line":187,"column":65}}},"12":{"name":"(anonymous_12)","line":200,"loc":{"start":{"line":200,"column":19},"end":{"line":200,"column":30}}},"13":{"name":"(anonymous_13)","line":209,"loc":{"start":{"line":209,"column":23},"end":{"line":209,"column":37}}},"14":{"name":"(anonymous_14)","line":212,"loc":{"start":{"line":212,"column":14},"end":{"line":212,"column":25}}},"15":{"name":"(anonymous_15)","line":213,"loc":{"start":{"line":213,"column":28},"end":{"line":213,"column":39}}},"16":{"name":"(anonymous_16)","line":226,"loc":{"start":{"line":226,"column":27},"end":{"line":226,"column":52}}},"17":{"name":"(anonymous_17)","line":258,"loc":{"start":{"line":258,"column":26},"end":{"line":258,"column":40}}},"18":{"name":"(anonymous_18)","line":269,"loc":{"start":{"line":269,"column":27},"end":{"line":269,"column":52}}},"19":{"name":"(anonymous_19)","line":275,"loc":{"start":{"line":275,"column":37},"end":{"line":275,"column":48}}},"20":{"name":"(anonymous_20)","line":292,"loc":{"start":{"line":292,"column":26},"end":{"line":292,"column":40}}},"21":{"name":"(anonymous_21)","line":309,"loc":{"start":{"line":309,"column":29},"end":{"line":309,"column":40}}},"22":{"name":"(anonymous_22)","line":318,"loc":{"start":{"line":318,"column":23},"end":{"line":318,"column":38}}},"23":{"name":"(anonymous_23)","line":326,"loc":{"start":{"line":326,"column":22},"end":{"line":326,"column":33}}},"24":{"name":"(anonymous_24)","line":330,"loc":{"start":{"line":330,"column":20},"end":{"line":330,"column":31}}},"25":{"name":"(anonymous_25)","line":339,"loc":{"start":{"line":339,"column":22},"end":{"line":339,"column":46}}},"26":{"name":"(anonymous_26)","line":364,"loc":{"start":{"line":364,"column":38},"end":{"line":364,"column":49}}},"27":{"name":"(anonymous_27)","line":386,"loc":{"start":{"line":386,"column":26},"end":{"line":386,"column":40}}},"28":{"name":"(anonymous_28)","line":398,"loc":{"start":{"line":398,"column":29},"end":{"line":398,"column":49}}},"29":{"name":"(anonymous_29)","line":412,"loc":{"start":{"line":412,"column":19},"end":{"line":412,"column":30}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":33}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":31}},"5":{"start":{"line":21,"column":0},"end":{"line":21,"column":50}},"6":{"start":{"line":22,"column":0},"end":{"line":22,"column":37}},"7":{"start":{"line":23,"column":0},"end":{"line":23,"column":35}},"8":{"start":{"line":24,"column":0},"end":{"line":24,"column":35}},"9":{"start":{"line":27,"column":0},"end":{"line":27,"column":44}},"10":{"start":{"line":33,"column":0},"end":{"line":61,"column":1}},"11":{"start":{"line":34,"column":2},"end":{"line":34,"column":33}},"12":{"start":{"line":36,"column":2},"end":{"line":36,"column":35}},"13":{"start":{"line":38,"column":2},"end":{"line":38,"column":23}},"14":{"start":{"line":39,"column":2},"end":{"line":39,"column":20}},"15":{"start":{"line":41,"column":2},"end":{"line":54,"column":3}},"16":{"start":{"line":42,"column":4},"end":{"line":51,"column":5}},"17":{"start":{"line":44,"column":8},"end":{"line":44,"column":44}},"18":{"start":{"line":45,"column":8},"end":{"line":45,"column":14}},"19":{"start":{"line":47,"column":8},"end":{"line":47,"column":57}},"20":{"start":{"line":48,"column":8},"end":{"line":48,"column":14}},"21":{"start":{"line":50,"column":8},"end":{"line":50,"column":71}},"22":{"start":{"line":53,"column":4},"end":{"line":53,"column":22}},"23":{"start":{"line":56,"column":2},"end":{"line":60,"column":3}},"24":{"start":{"line":57,"column":4},"end":{"line":57,"column":44}},"25":{"start":{"line":58,"column":9},"end":{"line":60,"column":3}},"26":{"start":{"line":59,"column":4},"end":{"line":59,"column":52}},"27":{"start":{"line":63,"column":0},"end":{"line":63,"column":41}},"28":{"start":{"line":69,"column":0},"end":{"line":69,"column":15}},"29":{"start":{"line":75,"column":0},"end":{"line":75,"column":37}},"30":{"start":{"line":77,"column":0},"end":{"line":97,"column":2}},"31":{"start":{"line":78,"column":2},"end":{"line":78,"column":18}},"32":{"start":{"line":80,"column":2},"end":{"line":80,"column":60}},"33":{"start":{"line":80,"column":17},"end":{"line":80,"column":60}},"34":{"start":{"line":82,"column":2},"end":{"line":82,"column":50}},"35":{"start":{"line":84,"column":2},"end":{"line":84,"column":27}},"36":{"start":{"line":85,"column":2},"end":{"line":85,"column":48}},"37":{"start":{"line":86,"column":2},"end":{"line":86,"column":18}},"38":{"start":{"line":87,"column":2},"end":{"line":87,"column":18}},"39":{"start":{"line":88,"column":2},"end":{"line":88,"column":71}},"40":{"start":{"line":89,"column":2},"end":{"line":89,"column":69}},"41":{"start":{"line":90,"column":2},"end":{"line":90,"column":95}},"42":{"start":{"line":91,"column":2},"end":{"line":91,"column":24}},"43":{"start":{"line":92,"column":2},"end":{"line":92,"column":39}},"44":{"start":{"line":94,"column":2},"end":{"line":96,"column":5}},"45":{"start":{"line":95,"column":4},"end":{"line":95,"column":19}},"46":{"start":{"line":103,"column":0},"end":{"line":103,"column":37}},"47":{"start":{"line":105,"column":0},"end":{"line":117,"column":2}},"48":{"start":{"line":106,"column":2},"end":{"line":106,"column":18}},"49":{"start":{"line":108,"column":2},"end":{"line":108,"column":22}},"50":{"start":{"line":110,"column":2},"end":{"line":110,"column":60}},"51":{"start":{"line":110,"column":18},"end":{"line":110,"column":60}},"52":{"start":{"line":112,"column":2},"end":{"line":112,"column":19}},"53":{"start":{"line":114,"column":2},"end":{"line":116,"column":5}},"54":{"start":{"line":115,"column":4},"end":{"line":115,"column":23}},"55":{"start":{"line":123,"column":0},"end":{"line":127,"column":2}},"56":{"start":{"line":124,"column":2},"end":{"line":124,"column":18}},"57":{"start":{"line":126,"column":2},"end":{"line":126,"column":31}},"58":{"start":{"line":133,"column":0},"end":{"line":148,"column":2}},"59":{"start":{"line":134,"column":2},"end":{"line":134,"column":22}},"60":{"start":{"line":134,"column":15},"end":{"line":134,"column":22}},"61":{"start":{"line":136,"column":2},"end":{"line":147,"column":3}},"62":{"start":{"line":138,"column":6},"end":{"line":138,"column":32}},"63":{"start":{"line":140,"column":6},"end":{"line":140,"column":29}},"64":{"start":{"line":142,"column":6},"end":{"line":142,"column":32}},"65":{"start":{"line":144,"column":6},"end":{"line":144,"column":32}},"66":{"start":{"line":146,"column":6},"end":{"line":146,"column":53}},"67":{"start":{"line":154,"column":0},"end":{"line":203,"column":2}},"68":{"start":{"line":155,"column":2},"end":{"line":155,"column":18}},"69":{"start":{"line":157,"column":2},"end":{"line":196,"column":3}},"70":{"start":{"line":158,"column":4},"end":{"line":162,"column":43}},"71":{"start":{"line":164,"column":4},"end":{"line":193,"column":7}},"72":{"start":{"line":165,"column":6},"end":{"line":168,"column":7}},"73":{"start":{"line":166,"column":8},"end":{"line":166,"column":55}},"74":{"start":{"line":167,"column":8},"end":{"line":167,"column":40}},"75":{"start":{"line":170,"column":6},"end":{"line":173,"column":8}},"76":{"start":{"line":175,"column":6},"end":{"line":175,"column":25}},"77":{"start":{"line":177,"column":6},"end":{"line":177,"column":66}},"78":{"start":{"line":180,"column":6},"end":{"line":190,"column":23}},"79":{"start":{"line":181,"column":8},"end":{"line":185,"column":34}},"80":{"start":{"line":187,"column":8},"end":{"line":189,"column":11}},"81":{"start":{"line":188,"column":10},"end":{"line":188,"column":44}},"82":{"start":{"line":188,"column":19},"end":{"line":188,"column":44}},"83":{"start":{"line":192,"column":6},"end":{"line":192,"column":28}},"84":{"start":{"line":195,"column":4},"end":{"line":195,"column":11}},"85":{"start":{"line":198,"column":2},"end":{"line":198,"column":21}},"86":{"start":{"line":200,"column":2},"end":{"line":202,"column":5}},"87":{"start":{"line":201,"column":4},"end":{"line":201,"column":19}},"88":{"start":{"line":209,"column":0},"end":{"line":252,"column":2}},"89":{"start":{"line":210,"column":2},"end":{"line":210,"column":18}},"90":{"start":{"line":212,"column":2},"end":{"line":216,"column":4}},"91":{"start":{"line":213,"column":4},"end":{"line":215,"column":31}},"92":{"start":{"line":214,"column":6},"end":{"line":214,"column":21}},"93":{"start":{"line":218,"column":2},"end":{"line":224,"column":28}},"94":{"start":{"line":226,"column":2},"end":{"line":251,"column":5}},"95":{"start":{"line":227,"column":4},"end":{"line":227,"column":45}},"96":{"start":{"line":227,"column":13},"end":{"line":227,"column":45}},"97":{"start":{"line":229,"column":4},"end":{"line":246,"column":5}},"98":{"start":{"line":232,"column":6},"end":{"line":235,"column":7}},"99":{"start":{"line":233,"column":8},"end":{"line":233,"column":86}},"100":{"start":{"line":234,"column":8},"end":{"line":234,"column":40}},"101":{"start":{"line":237,"column":6},"end":{"line":237,"column":51}},"102":{"start":{"line":238,"column":6},"end":{"line":238,"column":75}},"103":{"start":{"line":238,"column":54},"end":{"line":238,"column":75}},"104":{"start":{"line":240,"column":6},"end":{"line":243,"column":7}},"105":{"start":{"line":241,"column":8},"end":{"line":241,"column":53}},"106":{"start":{"line":242,"column":8},"end":{"line":242,"column":23}},"107":{"start":{"line":244,"column":11},"end":{"line":246,"column":5}},"108":{"start":{"line":245,"column":6},"end":{"line":245,"column":79}},"109":{"start":{"line":248,"column":4},"end":{"line":248,"column":26}},"110":{"start":{"line":250,"column":4},"end":{"line":250,"column":19}},"111":{"start":{"line":258,"column":0},"end":{"line":286,"column":2}},"112":{"start":{"line":259,"column":2},"end":{"line":259,"column":18}},"113":{"start":{"line":261,"column":2},"end":{"line":267,"column":28}},"114":{"start":{"line":269,"column":2},"end":{"line":285,"column":5}},"115":{"start":{"line":270,"column":4},"end":{"line":270,"column":45}},"116":{"start":{"line":270,"column":13},"end":{"line":270,"column":45}},"117":{"start":{"line":272,"column":4},"end":{"line":277,"column":5}},"118":{"start":{"line":273,"column":6},"end":{"line":273,"column":25}},"119":{"start":{"line":275,"column":6},"end":{"line":276,"column":27}},"120":{"start":{"line":275,"column":50},"end":{"line":275,"column":65}},"121":{"start":{"line":279,"column":4},"end":{"line":279,"column":20}},"122":{"start":{"line":280,"column":4},"end":{"line":280,"column":25}},"123":{"start":{"line":282,"column":4},"end":{"line":282,"column":26}},"124":{"start":{"line":284,"column":4},"end":{"line":284,"column":19}},"125":{"start":{"line":292,"column":0},"end":{"line":333,"column":2}},"126":{"start":{"line":293,"column":2},"end":{"line":293,"column":18}},"127":{"start":{"line":295,"column":2},"end":{"line":303,"column":5}},"128":{"start":{"line":305,"column":2},"end":{"line":305,"column":68}},"129":{"start":{"line":308,"column":2},"end":{"line":316,"column":3}},"130":{"start":{"line":309,"column":4},"end":{"line":315,"column":33}},"131":{"start":{"line":310,"column":6},"end":{"line":310,"column":38}},"132":{"start":{"line":312,"column":6},"end":{"line":314,"column":7}},"133":{"start":{"line":313,"column":8},"end":{"line":313,"column":22}},"134":{"start":{"line":318,"column":2},"end":{"line":324,"column":5}},"135":{"start":{"line":319,"column":4},"end":{"line":323,"column":5}},"136":{"start":{"line":320,"column":6},"end":{"line":322,"column":7}},"137":{"start":{"line":321,"column":8},"end":{"line":321,"column":29}},"138":{"start":{"line":326,"column":2},"end":{"line":328,"column":5}},"139":{"start":{"line":330,"column":2},"end":{"line":332,"column":5}},"140":{"start":{"line":331,"column":4},"end":{"line":331,"column":19}},"141":{"start":{"line":339,"column":0},"end":{"line":380,"column":2}},"142":{"start":{"line":340,"column":2},"end":{"line":340,"column":18}},"143":{"start":{"line":342,"column":2},"end":{"line":342,"column":22}},"144":{"start":{"line":342,"column":15},"end":{"line":342,"column":22}},"145":{"start":{"line":343,"column":2},"end":{"line":343,"column":17}},"146":{"start":{"line":345,"column":2},"end":{"line":345,"column":19}},"147":{"start":{"line":347,"column":2},"end":{"line":347,"column":31}},"148":{"start":{"line":347,"column":11},"end":{"line":347,"column":31}},"149":{"start":{"line":349,"column":2},"end":{"line":354,"column":3}},"150":{"start":{"line":350,"column":4},"end":{"line":350,"column":37}},"151":{"start":{"line":351,"column":4},"end":{"line":351,"column":22}},"152":{"start":{"line":353,"column":4},"end":{"line":353,"column":23}},"153":{"start":{"line":356,"column":2},"end":{"line":369,"column":3}},"154":{"start":{"line":357,"column":4},"end":{"line":357,"column":36}},"155":{"start":{"line":359,"column":4},"end":{"line":362,"column":30}},"156":{"start":{"line":364,"column":4},"end":{"line":366,"column":7}},"157":{"start":{"line":368,"column":4},"end":{"line":368,"column":28}},"158":{"start":{"line":372,"column":2},"end":{"line":372,"column":21}},"159":{"start":{"line":374,"column":2},"end":{"line":377,"column":3}},"160":{"start":{"line":375,"column":4},"end":{"line":375,"column":21}},"161":{"start":{"line":376,"column":4},"end":{"line":376,"column":25}},"162":{"start":{"line":379,"column":2},"end":{"line":379,"column":19}},"163":{"start":{"line":386,"column":0},"end":{"line":415,"column":2}},"164":{"start":{"line":387,"column":2},"end":{"line":387,"column":18}},"165":{"start":{"line":389,"column":2},"end":{"line":410,"column":3}},"166":{"start":{"line":390,"column":4},"end":{"line":396,"column":30}},"167":{"start":{"line":398,"column":4},"end":{"line":407,"column":7}},"168":{"start":{"line":399,"column":6},"end":{"line":399,"column":42}},"169":{"start":{"line":399,"column":15},"end":{"line":399,"column":42}},"170":{"start":{"line":401,"column":6},"end":{"line":404,"column":7}},"171":{"start":{"line":402,"column":8},"end":{"line":402,"column":50}},"172":{"start":{"line":403,"column":8},"end":{"line":403,"column":35}},"173":{"start":{"line":406,"column":6},"end":{"line":406,"column":21}},"174":{"start":{"line":409,"column":4},"end":{"line":409,"column":11}},"175":{"start":{"line":412,"column":2},"end":{"line":414,"column":5}},"176":{"start":{"line":413,"column":4},"end":{"line":413,"column":19}},"177":{"start":{"line":421,"column":0},"end":{"line":421,"column":20}}},"branchMap":{"1":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":41,"column":2}},{"start":{"line":41,"column":2},"end":{"line":41,"column":2}}]},"2":{"line":42,"type":"switch","locations":[{"start":{"line":43,"column":6},"end":{"line":45,"column":14}},{"start":{"line":46,"column":6},"end":{"line":48,"column":14}},{"start":{"line":49,"column":6},"end":{"line":50,"column":71}}]},"3":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":2},"end":{"line":56,"column":2}},{"start":{"line":56,"column":2},"end":{"line":56,"column":2}}]},"4":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":9},"end":{"line":58,"column":9}},{"start":{"line":58,"column":9},"end":{"line":58,"column":9}}]},"5":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":2},"end":{"line":80,"column":2}},{"start":{"line":80,"column":2},"end":{"line":80,"column":2}}]},"6":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":21},"end":{"line":88,"column":44}},{"start":{"line":88,"column":48},"end":{"line":88,"column":70}}]},"7":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":42},"end":{"line":90,"column":66}},{"start":{"line":90,"column":70},"end":{"line":90,"column":93}}]},"8":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":14},"end":{"line":92,"column":30}},{"start":{"line":92,"column":34},"end":{"line":92,"column":38}}]},"9":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":2},"end":{"line":110,"column":2}},{"start":{"line":110,"column":2},"end":{"line":110,"column":2}}]},"10":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":2},"end":{"line":134,"column":2}},{"start":{"line":134,"column":2},"end":{"line":134,"column":2}}]},"11":{"line":136,"type":"switch","locations":[{"start":{"line":137,"column":4},"end":{"line":138,"column":32}},{"start":{"line":139,"column":4},"end":{"line":140,"column":29}},{"start":{"line":141,"column":4},"end":{"line":142,"column":32}},{"start":{"line":143,"column":4},"end":{"line":144,"column":32}},{"start":{"line":145,"column":4},"end":{"line":146,"column":53}}]},"12":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":2},"end":{"line":157,"column":2}},{"start":{"line":157,"column":2},"end":{"line":157,"column":2}}]},"13":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":12},"end":{"line":159,"column":28}},{"start":{"line":159,"column":32},"end":{"line":159,"column":57}}]},"14":{"line":160,"type":"binary-expr","locations":[{"start":{"line":160,"column":11},"end":{"line":160,"column":26}},{"start":{"line":160,"column":30},"end":{"line":160,"column":54}}]},"15":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":6},"end":{"line":165,"column":6}},{"start":{"line":165,"column":6},"end":{"line":165,"column":6}}]},"16":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":10},"end":{"line":188,"column":10}},{"start":{"line":188,"column":10},"end":{"line":188,"column":10}}]},"17":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":4}},{"start":{"line":227,"column":4},"end":{"line":227,"column":4}}]},"18":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":4},"end":{"line":229,"column":4}},{"start":{"line":229,"column":4},"end":{"line":229,"column":4}}]},"19":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":6},"end":{"line":232,"column":6}},{"start":{"line":232,"column":6},"end":{"line":232,"column":6}}]},"20":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":6},"end":{"line":238,"column":6}},{"start":{"line":238,"column":6},"end":{"line":238,"column":6}}]},"21":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":6},"end":{"line":240,"column":6}},{"start":{"line":240,"column":6},"end":{"line":240,"column":6}}]},"22":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":11},"end":{"line":244,"column":11}},{"start":{"line":244,"column":11},"end":{"line":244,"column":11}}]},"23":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":4},"end":{"line":270,"column":4}},{"start":{"line":270,"column":4},"end":{"line":270,"column":4}}]},"24":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":4},"end":{"line":272,"column":4}},{"start":{"line":272,"column":4},"end":{"line":272,"column":4}}]},"25":{"line":305,"type":"binary-expr","locations":[{"start":{"line":305,"column":12},"end":{"line":305,"column":27}},{"start":{"line":305,"column":31},"end":{"line":305,"column":67}}]},"26":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":2},"end":{"line":308,"column":2}},{"start":{"line":308,"column":2},"end":{"line":308,"column":2}}]},"27":{"line":312,"type":"if","locations":[{"start":{"line":312,"column":6},"end":{"line":312,"column":6}},{"start":{"line":312,"column":6},"end":{"line":312,"column":6}}]},"28":{"line":312,"type":"binary-expr","locations":[{"start":{"line":312,"column":10},"end":{"line":312,"column":14}},{"start":{"line":312,"column":18},"end":{"line":312,"column":48}}]},"29":{"line":319,"type":"if","locations":[{"start":{"line":319,"column":4},"end":{"line":319,"column":4}},{"start":{"line":319,"column":4},"end":{"line":319,"column":4}}]},"30":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":6},"end":{"line":320,"column":6}},{"start":{"line":320,"column":6},"end":{"line":320,"column":6}}]},"31":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":2},"end":{"line":342,"column":2}},{"start":{"line":342,"column":2},"end":{"line":342,"column":2}}]},"32":{"line":347,"type":"if","locations":[{"start":{"line":347,"column":2},"end":{"line":347,"column":2}},{"start":{"line":347,"column":2},"end":{"line":347,"column":2}}]},"33":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":2},"end":{"line":349,"column":2}},{"start":{"line":349,"column":2},"end":{"line":349,"column":2}}]},"34":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":2},"end":{"line":356,"column":2}},{"start":{"line":356,"column":2},"end":{"line":356,"column":2}}]},"35":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":2},"end":{"line":374,"column":2}},{"start":{"line":374,"column":2},"end":{"line":374,"column":2}}]},"36":{"line":389,"type":"if","locations":[{"start":{"line":389,"column":2},"end":{"line":389,"column":2}},{"start":{"line":389,"column":2},"end":{"line":389,"column":2}}]},"37":{"line":399,"type":"if","locations":[{"start":{"line":399,"column":6},"end":{"line":399,"column":6}},{"start":{"line":399,"column":6},"end":{"line":399,"column":6}}]},"38":{"line":401,"type":"if","locations":[{"start":{"line":401,"column":6},"end":{"line":401,"column":6}},{"start":{"line":401,"column":6},"end":{"line":401,"column":6}}]}},"code":["/**"," * Lock."," */","","'use strict';","","/**"," * Module dependencies."," */","","var events = require('events');","var util = require('util');","","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Constants"," */","","var DEFAULT_LOCK_SESSION_NAME = 'Consul API Lock';","var DEFAULT_LOCK_SESSION_TTL = '15s';","var DEFAULT_LOCK_WAIT_TIME = '15s';","var DEFAULT_LOCK_RETRY_TIME = '5s';","","// magic flag 0x2ddccbc058a50c18","var LOCK_FLAG_VALUE = '3304740253564472344';","","/**"," * Initialize a new `Lock` instance."," */","","function Lock(consul, opts) {","  events.EventEmitter.call(this);","","  opts = utils.normalizeKeys(opts);","","  this.consul = consul;","  this._opts = opts;","","  if (opts.session) {","    switch (typeof opts.session) {","      case 'string':","        opts.session = { id: opts.session };","        break;","      case 'object':","        opts.session = utils.normalizeKeys(opts.session);","        break;","      default:","        throw errors.Validation('session must be an object or string');","    }","  } else {","    opts.session = {};","  }","","  if (!opts.key) {","    throw errors.Validation('key required');","  } else if (typeof opts.key !== 'string') {","    throw errors.Validation('key must be a string');","  }","}","","util.inherits(Lock, events.EventEmitter);","","/**"," * Object meta"," */","","Lock.meta = {};","","/**"," * Acquire lock"," */","","Lock.meta.acquire = { type: 'sync' };","","Lock.prototype.acquire = function() {","  var self = this;","","  if (self._ctx) throw new errors.Validation('lock in use');","","  var ctx = self._ctx = new events.EventEmitter();","","  ctx.key = self._opts.key;","  ctx.session = utils.clone(self._opts.session);","  ctx.index = '0';","  ctx.end = false;","  ctx.lockWaitTime = self._opts.lockwaittime || DEFAULT_LOCK_WAIT_TIME;","  ctx.lockWaitTimeout = utils.parseDuration(ctx.lockWaitTime) + 1000;","  ctx.lockRetryTime = utils.parseDuration(self._opts.lockretrytime || DEFAULT_LOCK_RETRY_TIME);","  ctx.state = 'session';","  ctx.value = self._opts.value || null;","","  process.nextTick(function() {","    self._run(ctx);","  });","};","","/**"," * Release lock"," */","","Lock.meta.release = { type: 'sync' };","","Lock.prototype.release = function() {","  var self = this;","","  var ctx = self._ctx;","","  if (!self._ctx) throw errors.Validation('no lock in use');","","  delete self._ctx;","","  process.nextTick(function() {","    self._release(ctx);","  });","};","","/**"," * Error helper"," */","","Lock.prototype._err = function(err, res) {","  var self = this;","","  self.emit('error', err, res);","};","","/**"," * Lock"," */","","Lock.prototype._run = function(ctx) {","  if (ctx.end) return;","","  switch (ctx.state) {","    case 'session':","      return this._session(ctx);","    case 'wait':","      return this._wait(ctx);","    case 'acquire':","      return this._acquire(ctx);","    case 'monitor':","      return this._monitor(ctx);","    default:","      throw new Error('invalid state: ' + ctx.state);","  }","};","","/**"," * Create lock session"," */","","Lock.prototype._session = function(ctx) {","  var self = this;","","  if (!ctx.session.id) {","    var opts = utils.defaults({","      name: ctx.session.name || DEFAULT_LOCK_SESSION_NAME,","      ttl: ctx.session.ttl || DEFAULT_LOCK_SESSION_TTL,","      ctx: ctx,","    }, ctx.session, self.consul._defaults);","","    self.consul.session.create(opts, function(err, data, res) {","      if (err) {","        err.message = 'session create: ' + err.message;","        return self._end(ctx, err, res);","      }","","      ctx.session = {","        id: data.ID,","        ttl: opts.ttl,","      };","","      ctx.state = 'wait';","","      var renewTimeout = utils.parseDuration(ctx.session.ttl) / 2;","","      // renew session","      ctx.renewSession = setInterval(function() {","        var opts = utils.defaults({","          id: ctx.session.id,","          timeout: renewTimeout,","          ctx: ctx,","        }, self.consul._defaults);","","        self.consul.session.renew(opts, function(err, data, res) {","          if (err) self._end(ctx, err, res);","        });","      }, renewTimeout);","","      return self._run(ctx);","    });","","    return;","  }","","  ctx.state = 'wait';","","  process.nextTick(function() {","    self._run(ctx);","  });","};","","/**"," * Wait for non-locked resource"," */","","Lock.prototype._wait = function(ctx) {","  var self = this;","","  var retry = function() {","    utils.setTimeoutContext(function() {","      self._run(ctx);","    }, ctx, ctx.lockRetryTime);","  };","","  var opts = utils.defaults({","    key: ctx.key,","    wait: ctx.lockWaitTime,","    timeout: ctx.lockWaitTimeout,","    ctx: ctx,","    index: ctx.index,","  }, self.consul._defaults);","","  self.consul.kv.get(opts, function(err, data, res) {","    if (err) return self._end(ctx, err, res);","","    if (data) {","      // we try to use the same magic number as consul/api in an attempt to be","      // compatible","      if (data.Flags !== +LOCK_FLAG_VALUE) {","        err = errors.Validation('consul: lock: existing key does not match lock use');","        return self._end(ctx, err, res);","      }","","      var newIndex = res.headers['x-consul-index'];","      if (utils.hasIndexChanged(newIndex, ctx.index)) ctx.index = newIndex;","","      if (data.Session !== ctx.Session) {","        self.emit('retry', { leader: data.Session });","        return retry();","      }","    } else if (res.statusCode !== 404) {","      return self._end(ctx, new Error('consul: lock: error getting key'), res);","    }","","    ctx.state = 'acquire';","","    self._run(ctx);","  });","};","","/**"," * Attempt to acquire lock"," */","","Lock.prototype._acquire = function(ctx) {","  var self = this;","","  var opts = utils.defaults({","    key: ctx.key,","    acquire: ctx.session.id,","    ctx: ctx,","    value: ctx.value,","    flags: LOCK_FLAG_VALUE,","  }, self.consul._defaults);","","  self.consul.kv.set(opts, function(err, data, res) {","    if (err) return self._end(ctx, err, res);","","    if (data !== true) {","      ctx.state = 'wait';","","      return utils.setTimeoutContext(function() { self._run(ctx); }, ctx,","        ctx.lockRetryTime);","    }","","    ctx.held = true;","    self.emit('acquire');","","    ctx.state = 'monitor';","","    self._run(ctx);","  });","};","","/**"," * Monitor lock"," */","","Lock.prototype._monitor = function(ctx) {","  var self = this;","","  var monitor = ctx.monitor = self.consul.watch({","    method: self.consul.kv.get,","    options: utils.defaults({","      key: ctx.key,","      wait: ctx.lockWaitTime,","      timeout: ctx.lockWaitTimeout,","      index: ctx.index,","    }, self.consul._defaults),","  });","","  var ttl = ctx.session.ttl && utils.parseDuration(ctx.session.ttl);","","  // monitor updates","  if (ttl) {","    utils.setIntervalContext(function() {","      var time = monitor.updateTime();","","      if (time && new Date() - time > ttl + 1000) {","        monitor.end();","      }","    }, ctx, Math.min(1000, ttl));","  }","","  monitor.on('change', function(data) {","    if (data) {","      if (data.Session !== ctx.session.id) {","        return monitor.end();","      }","    }","  });","","  monitor.on('error', function() {","    // ignore errors","  });","","  monitor.on('end', function() {","    self._end(ctx);","  });","};","","/**"," * Close context processes"," */","","Lock.prototype._end = function(ctx, err, res) {","  var self = this;","","  if (ctx.end) return;","  ctx.end = true;","","  delete self._ctx;","","  if (err) self._err(err, res);","","  if (ctx.monitor) {","    ctx.monitor.removeAllListeners();","    ctx.monitor.end();","","    delete ctx.monitor;","  }","","  if (ctx.renewSession) {","    clearInterval(ctx.renewSession);","","    var opts = utils.defaults({","      id: ctx.session.id,","      timeout: 1000,","    }, self.consul._defaults);","","    self.consul.session.destroy(opts, function() {","      // ignore errors","    });","","    delete ctx.renewSession;","  }","","  // abort any pending requests","  ctx.emit('cancel');","","  if (ctx.held) {","    ctx.held = false;","    self.emit('release');","  }","","  self.emit('end');","};","","/**"," * Release lock"," */","","Lock.prototype._release = function(ctx) {","  var self = this;","","  if (ctx.held) {","    var opts = utils.defaults({","      key: ctx.key,","      release: ctx.session.id,","      ctx: ctx,","      value: ctx.value,","      flags: LOCK_FLAG_VALUE,","    }, self.consul._defaults);","","    self.consul.kv.set(opts, function(err, data) {","      if (err) return self._end(ctx, err);","","      if (data !== true) {","        err = new Error('failed to release lock');","        return self._end(ctx, err);","      }","","      self._end(ctx);","    });","","    return;","  }","","  process.nextTick(function() {","    self._end(ctx);","  });","};","","/**"," * Module exports."," */","","exports.Lock = Lock;",""],"l":{"11":1,"12":1,"14":1,"15":1,"21":1,"22":1,"23":1,"24":1,"27":1,"33":1,"34":0,"36":0,"38":0,"39":0,"41":0,"42":0,"44":0,"45":0,"47":0,"48":0,"50":0,"53":0,"56":0,"57":0,"58":0,"59":0,"63":1,"69":1,"75":1,"77":1,"78":0,"80":0,"82":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"94":0,"95":0,"103":1,"105":1,"106":0,"108":0,"110":0,"112":0,"114":0,"115":0,"123":1,"124":0,"126":0,"133":1,"134":0,"136":0,"138":0,"140":0,"142":0,"144":0,"146":0,"154":1,"155":0,"157":0,"158":0,"164":0,"165":0,"166":0,"167":0,"170":0,"175":0,"177":0,"180":0,"181":0,"187":0,"188":0,"192":0,"195":0,"198":0,"200":0,"201":0,"209":1,"210":0,"212":0,"213":0,"214":0,"218":0,"226":0,"227":0,"229":0,"232":0,"233":0,"234":0,"237":0,"238":0,"240":0,"241":0,"242":0,"244":0,"245":0,"248":0,"250":0,"258":1,"259":0,"261":0,"269":0,"270":0,"272":0,"273":0,"275":0,"279":0,"280":0,"282":0,"284":0,"292":1,"293":0,"295":0,"305":0,"308":0,"309":0,"310":0,"312":0,"313":0,"318":0,"319":0,"320":0,"321":0,"326":0,"330":0,"331":0,"339":1,"340":0,"342":0,"343":0,"345":0,"347":0,"349":0,"350":0,"351":0,"353":0,"356":0,"357":0,"359":0,"364":0,"368":0,"372":0,"374":0,"375":0,"376":0,"379":0,"386":1,"387":0,"389":0,"390":0,"398":0,"399":0,"401":0,"402":0,"403":0,"406":0,"409":0,"412":0,"413":0,"421":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/query.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/query.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"Query","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":23}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":23},"end":{"line":26,"column":48}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":25},"end":{"line":49,"column":50}}},"4":{"name":"(anonymous_4)","line":82,"loc":{"start":{"line":82,"column":22},"end":{"line":82,"column":47}}},"5":{"name":"(anonymous_5)","line":110,"loc":{"start":{"line":110,"column":25},"end":{"line":110,"column":50}}},"6":{"name":"(anonymous_6)","line":146,"loc":{"start":{"line":146,"column":26},"end":{"line":146,"column":51}}},"7":{"name":"(anonymous_7)","line":174,"loc":{"start":{"line":174,"column":26},"end":{"line":174,"column":51}}},"8":{"name":"(anonymous_8)","line":202,"loc":{"start":{"line":202,"column":26},"end":{"line":202,"column":51}}},"9":{"name":"(anonymous_9)","line":230,"loc":{"start":{"line":230,"column":26},"end":{"line":230,"column":46}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":43,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":30,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":14}},"9":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"10":{"start":{"line":33,"column":2},"end":{"line":33,"column":53}},"11":{"start":{"line":35,"column":2},"end":{"line":38,"column":4}},"12":{"start":{"line":40,"column":2},"end":{"line":40,"column":27}},"13":{"start":{"line":42,"column":2},"end":{"line":42,"column":46}},"14":{"start":{"line":49,"column":0},"end":{"line":76,"column":2}},"15":{"start":{"line":50,"column":2},"end":{"line":52,"column":3}},"16":{"start":{"line":51,"column":4},"end":{"line":51,"column":42}},"17":{"start":{"line":54,"column":2},"end":{"line":54,"column":35}},"18":{"start":{"line":55,"column":2},"end":{"line":55,"column":53}},"19":{"start":{"line":57,"column":2},"end":{"line":62,"column":4}},"20":{"start":{"line":64,"column":2},"end":{"line":71,"column":3}},"21":{"start":{"line":65,"column":4},"end":{"line":65,"column":28}},"22":{"start":{"line":66,"column":4},"end":{"line":68,"column":5}},"23":{"start":{"line":67,"column":6},"end":{"line":67,"column":50}},"24":{"start":{"line":70,"column":4},"end":{"line":70,"column":48}},"25":{"start":{"line":73,"column":2},"end":{"line":73,"column":27}},"26":{"start":{"line":75,"column":2},"end":{"line":75,"column":47}},"27":{"start":{"line":82,"column":0},"end":{"line":104,"column":2}},"28":{"start":{"line":83,"column":2},"end":{"line":85,"column":3}},"29":{"start":{"line":84,"column":4},"end":{"line":84,"column":27}},"30":{"start":{"line":87,"column":2},"end":{"line":87,"column":35}},"31":{"start":{"line":88,"column":2},"end":{"line":88,"column":53}},"32":{"start":{"line":90,"column":2},"end":{"line":95,"column":4}},"33":{"start":{"line":97,"column":2},"end":{"line":99,"column":3}},"34":{"start":{"line":98,"column":4},"end":{"line":98,"column":80}},"35":{"start":{"line":101,"column":2},"end":{"line":101,"column":27}},"36":{"start":{"line":103,"column":2},"end":{"line":103,"column":50}},"37":{"start":{"line":110,"column":0},"end":{"line":140,"column":2}},"38":{"start":{"line":111,"column":2},"end":{"line":114,"column":3}},"39":{"start":{"line":112,"column":4},"end":{"line":112,"column":20}},"40":{"start":{"line":113,"column":4},"end":{"line":113,"column":14}},"41":{"start":{"line":116,"column":2},"end":{"line":116,"column":35}},"42":{"start":{"line":117,"column":2},"end":{"line":117,"column":53}},"43":{"start":{"line":119,"column":2},"end":{"line":125,"column":4}},"44":{"start":{"line":127,"column":2},"end":{"line":135,"column":3}},"45":{"start":{"line":128,"column":4},"end":{"line":128,"column":63}},"46":{"start":{"line":128,"column":21},"end":{"line":128,"column":63}},"47":{"start":{"line":129,"column":4},"end":{"line":129,"column":28}},"48":{"start":{"line":130,"column":4},"end":{"line":132,"column":5}},"49":{"start":{"line":131,"column":6},"end":{"line":131,"column":50}},"50":{"start":{"line":134,"column":4},"end":{"line":134,"column":48}},"51":{"start":{"line":137,"column":2},"end":{"line":137,"column":27}},"52":{"start":{"line":139,"column":2},"end":{"line":139,"column":47}},"53":{"start":{"line":146,"column":0},"end":{"line":168,"column":2}},"54":{"start":{"line":147,"column":2},"end":{"line":149,"column":3}},"55":{"start":{"line":148,"column":4},"end":{"line":148,"column":27}},"56":{"start":{"line":151,"column":2},"end":{"line":151,"column":35}},"57":{"start":{"line":152,"column":2},"end":{"line":152,"column":53}},"58":{"start":{"line":154,"column":2},"end":{"line":159,"column":4}},"59":{"start":{"line":161,"column":2},"end":{"line":163,"column":3}},"60":{"start":{"line":162,"column":4},"end":{"line":162,"column":80}},"61":{"start":{"line":165,"column":2},"end":{"line":165,"column":27}},"62":{"start":{"line":167,"column":2},"end":{"line":167,"column":50}},"63":{"start":{"line":174,"column":0},"end":{"line":196,"column":2}},"64":{"start":{"line":175,"column":2},"end":{"line":177,"column":3}},"65":{"start":{"line":176,"column":4},"end":{"line":176,"column":27}},"66":{"start":{"line":179,"column":2},"end":{"line":179,"column":35}},"67":{"start":{"line":180,"column":2},"end":{"line":180,"column":53}},"68":{"start":{"line":182,"column":2},"end":{"line":187,"column":4}},"69":{"start":{"line":189,"column":2},"end":{"line":191,"column":3}},"70":{"start":{"line":190,"column":4},"end":{"line":190,"column":80}},"71":{"start":{"line":193,"column":2},"end":{"line":193,"column":27}},"72":{"start":{"line":195,"column":2},"end":{"line":195,"column":46}},"73":{"start":{"line":202,"column":0},"end":{"line":224,"column":2}},"74":{"start":{"line":203,"column":2},"end":{"line":205,"column":3}},"75":{"start":{"line":204,"column":4},"end":{"line":204,"column":27}},"76":{"start":{"line":207,"column":2},"end":{"line":207,"column":35}},"77":{"start":{"line":208,"column":2},"end":{"line":208,"column":53}},"78":{"start":{"line":210,"column":2},"end":{"line":215,"column":4}},"79":{"start":{"line":217,"column":2},"end":{"line":219,"column":3}},"80":{"start":{"line":218,"column":4},"end":{"line":218,"column":80}},"81":{"start":{"line":221,"column":2},"end":{"line":221,"column":27}},"82":{"start":{"line":223,"column":2},"end":{"line":223,"column":50}},"83":{"start":{"line":230,"column":0},"end":{"line":275,"column":2}},"84":{"start":{"line":231,"column":2},"end":{"line":231,"column":28}},"85":{"start":{"line":233,"column":2},"end":{"line":233,"column":39}},"86":{"start":{"line":233,"column":17},"end":{"line":233,"column":39}},"87":{"start":{"line":234,"column":2},"end":{"line":234,"column":48}},"88":{"start":{"line":234,"column":20},"end":{"line":234,"column":48}},"89":{"start":{"line":235,"column":2},"end":{"line":238,"column":3}},"90":{"start":{"line":236,"column":4},"end":{"line":236,"column":28}},"91":{"start":{"line":237,"column":4},"end":{"line":237,"column":22}},"92":{"start":{"line":239,"column":2},"end":{"line":239,"column":39}},"93":{"start":{"line":239,"column":17},"end":{"line":239,"column":39}},"94":{"start":{"line":240,"column":2},"end":{"line":247,"column":3}},"95":{"start":{"line":241,"column":4},"end":{"line":241,"column":54}},"96":{"start":{"line":242,"column":4},"end":{"line":246,"column":5}},"97":{"start":{"line":243,"column":6},"end":{"line":243,"column":25}},"98":{"start":{"line":244,"column":6},"end":{"line":244,"column":60}},"99":{"start":{"line":244,"column":25},"end":{"line":244,"column":60}},"100":{"start":{"line":245,"column":6},"end":{"line":245,"column":66}},"101":{"start":{"line":245,"column":27},"end":{"line":245,"column":66}},"102":{"start":{"line":248,"column":2},"end":{"line":268,"column":3}},"103":{"start":{"line":249,"column":4},"end":{"line":249,"column":52}},"104":{"start":{"line":250,"column":4},"end":{"line":250,"column":22}},"105":{"start":{"line":251,"column":4},"end":{"line":251,"column":64}},"106":{"start":{"line":251,"column":25},"end":{"line":251,"column":64}},"107":{"start":{"line":252,"column":4},"end":{"line":263,"column":5}},"108":{"start":{"line":253,"column":6},"end":{"line":253,"column":59}},"109":{"start":{"line":254,"column":6},"end":{"line":262,"column":7}},"110":{"start":{"line":255,"column":8},"end":{"line":255,"column":35}},"111":{"start":{"line":256,"column":8},"end":{"line":258,"column":9}},"112":{"start":{"line":257,"column":10},"end":{"line":257,"column":61}},"113":{"start":{"line":259,"column":8},"end":{"line":261,"column":9}},"114":{"start":{"line":260,"column":10},"end":{"line":260,"column":67}},"115":{"start":{"line":264,"column":4},"end":{"line":266,"column":5}},"116":{"start":{"line":265,"column":6},"end":{"line":265,"column":53}},"117":{"start":{"line":267,"column":4},"end":{"line":267,"column":55}},"118":{"start":{"line":267,"column":22},"end":{"line":267,"column":55}},"119":{"start":{"line":269,"column":2},"end":{"line":272,"column":3}},"120":{"start":{"line":270,"column":4},"end":{"line":270,"column":44}},"121":{"start":{"line":271,"column":4},"end":{"line":271,"column":45}},"122":{"start":{"line":271,"column":17},"end":{"line":271,"column":45}},"123":{"start":{"line":274,"column":2},"end":{"line":274,"column":18}},"124":{"start":{"line":281,"column":0},"end":{"line":281,"column":22}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"3":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"4":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":25}},{"start":{"line":66,"column":29},"end":{"line":66,"column":54}}]},"5":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":83,"column":2}},{"start":{"line":83,"column":2},"end":{"line":83,"column":2}}]},"6":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"7":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":2},"end":{"line":111,"column":2}},{"start":{"line":111,"column":2},"end":{"line":111,"column":2}}]},"8":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"9":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":4},"end":{"line":130,"column":4}},{"start":{"line":130,"column":4},"end":{"line":130,"column":4}}]},"10":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":8},"end":{"line":130,"column":25}},{"start":{"line":130,"column":29},"end":{"line":130,"column":54}}]},"11":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":2},"end":{"line":147,"column":2}},{"start":{"line":147,"column":2},"end":{"line":147,"column":2}}]},"12":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":2},"end":{"line":161,"column":2}},{"start":{"line":161,"column":2},"end":{"line":161,"column":2}}]},"13":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":2},"end":{"line":175,"column":2}},{"start":{"line":175,"column":2},"end":{"line":175,"column":2}}]},"14":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":2},"end":{"line":189,"column":2}},{"start":{"line":189,"column":2},"end":{"line":189,"column":2}}]},"15":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":2},"end":{"line":203,"column":2}},{"start":{"line":203,"column":2},"end":{"line":203,"column":2}}]},"16":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":2},"end":{"line":217,"column":2}},{"start":{"line":217,"column":2},"end":{"line":217,"column":2}}]},"17":{"line":231,"type":"binary-expr","locations":[{"start":{"line":231,"column":13},"end":{"line":231,"column":21}},{"start":{"line":231,"column":25},"end":{"line":231,"column":27}}]},"18":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":2},"end":{"line":233,"column":2}},{"start":{"line":233,"column":2},"end":{"line":233,"column":2}}]},"19":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":2},"end":{"line":234,"column":2}},{"start":{"line":234,"column":2},"end":{"line":234,"column":2}}]},"20":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":2},"end":{"line":235,"column":2}},{"start":{"line":235,"column":2},"end":{"line":235,"column":2}}]},"21":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":2},"end":{"line":239,"column":2}},{"start":{"line":239,"column":2},"end":{"line":239,"column":2}}]},"22":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":2},"end":{"line":240,"column":2}},{"start":{"line":240,"column":2},"end":{"line":240,"column":2}}]},"23":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":4},"end":{"line":242,"column":4}},{"start":{"line":242,"column":4},"end":{"line":242,"column":4}}]},"24":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":8},"end":{"line":242,"column":21}},{"start":{"line":242,"column":25},"end":{"line":242,"column":40}}]},"25":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":6},"end":{"line":244,"column":6}},{"start":{"line":244,"column":6},"end":{"line":244,"column":6}}]},"26":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":6},"end":{"line":245,"column":6}},{"start":{"line":245,"column":6},"end":{"line":245,"column":6}}]},"27":{"line":248,"type":"if","locations":[{"start":{"line":248,"column":2},"end":{"line":248,"column":2}},{"start":{"line":248,"column":2},"end":{"line":248,"column":2}}]},"28":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":4},"end":{"line":251,"column":4}},{"start":{"line":251,"column":4},"end":{"line":251,"column":4}}]},"29":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":4},"end":{"line":252,"column":4}},{"start":{"line":252,"column":4},"end":{"line":252,"column":4}}]},"30":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":6},"end":{"line":254,"column":6}},{"start":{"line":254,"column":6},"end":{"line":254,"column":6}}]},"31":{"line":254,"type":"binary-expr","locations":[{"start":{"line":254,"column":10},"end":{"line":254,"column":47}},{"start":{"line":254,"column":51},"end":{"line":254,"column":71}}]},"32":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":8},"end":{"line":256,"column":8}},{"start":{"line":256,"column":8},"end":{"line":256,"column":8}}]},"33":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":8},"end":{"line":259,"column":8}},{"start":{"line":259,"column":8},"end":{"line":259,"column":8}}]},"34":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":4},"end":{"line":264,"column":4}},{"start":{"line":264,"column":4},"end":{"line":264,"column":4}}]},"35":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":4}},{"start":{"line":267,"column":4},"end":{"line":267,"column":4}}]},"36":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":2},"end":{"line":269,"column":2}},{"start":{"line":269,"column":2},"end":{"line":269,"column":2}}]},"37":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":4},"end":{"line":271,"column":4}},{"start":{"line":271,"column":4},"end":{"line":271,"column":4}}]}},"code":["/**"," * Query manipulation"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Query` client."," */","","function Query(consul) {","  this.consul = consul;","}","","/**"," * Lists all queries"," */","","Query.prototype.list = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'query.list',","    path: '/query',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Create a new query"," */","","Query.prototype.create = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { service: { service: opts } };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'query.create',","    path: '/query',","    query: {},","    type: 'json',","  };","","  try {","    this._params(req, opts);","    if (!req.body.Service || !req.body.Service.Service) {","      throw errors.Validation('service required');","    }","  } catch (err) {","    return callback(this.consul._err(err, req));","  }","","  utils.options(req, opts);","","  this.consul._post(req, utils.body, callback);","};","","/**"," * Gets a given query"," */","","Query.prototype.get = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { query: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'query.get',","    path: '/query/{query}',","    params: { query: opts.query },","    query: {},","  };","","  if (!opts.query) {","    return callback(this.consul._err(errors.Validation('query required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.bodyItem, callback);","};","","/**"," * Update existing query"," */","","Query.prototype.update = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'query.update',","    path: '/query/{query}',","    params: { query: opts.query },","    query: {},","    type: 'json',","  };","","  try {","    if (!opts.query) throw errors.Validation('query required');","    this._params(req, opts);","    if (!req.body.Service || !req.body.Service.Service) {","      throw errors.Validation('service required');","    }","  } catch (err) {","    return callback(this.consul._err(err, req));","  }","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Destroys a given query"," */","","Query.prototype.destroy = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { query: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'query.destroy',","    path: '/query/{query}',","    params: { query: opts.query },","    query: {},","  };","","  if (!opts.query) {","    return callback(this.consul._err(errors.Validation('query required'), req));","  }","","  utils.options(req, opts);","","  this.consul._delete(req, utils.empty, callback);","};","","/**"," * Executes a given query"," */","","Query.prototype.execute = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { query: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'query.execute',","    path: '/query/{query}/execute',","    params: { query: opts.query },","    query: {},","  };","","  if (!opts.query) {","    return callback(this.consul._err(errors.Validation('query required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Explain a given query"," */","","Query.prototype.explain = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { query: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'query.explain',","    path: '/query/{query}/explain',","    params: { query: opts.query },","    query: {},","  };","","  if (!opts.query) {","    return callback(this.consul._err(errors.Validation('query required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.bodyItem, callback);","};","","/**"," * Generate body for query create and update"," */","","Query.prototype._params = function(req, opts) {","  var body = req.body || {};","","  if (opts.name) body.Name = opts.name;","  if (opts.session) body.Session = opts.session;","  if (opts.token) {","    body.Token = opts.token;","    delete opts.token;","  }","  if (opts.near) body.Near = opts.near;","  if (opts.template) {","    var template = utils.normalizeKeys(opts.template);","    if (template.type || template.regexp) {","      body.Template = {};","      if (template.type) body.Template.Type = template.type;","      if (template.regexp) body.Template.Regexp = template.regexp;","    }","  }","  if (opts.service) {","    var service = utils.normalizeKeys(opts.service);","    body.Service = {};","    if (service.service) body.Service.Service = service.service;","    if (service.failover) {","      var failover = utils.normalizeKeys(service.failover);","      if (typeof failover.nearestn === 'number' || failover.datacenters) {","        body.Service.Failover = {};","        if (typeof failover.nearestn === 'number') {","          body.Service.Failover.NearestN = failover.nearestn;","        }","        if (failover.datacenters) {","          body.Service.Failover.Datacenters = failover.datacenters;","        }","      }","    }","    if (typeof service.onlypassing === 'boolean') {","      body.Service.OnlyPassing = service.onlypassing;","    }","    if (service.tags) body.Service.Tags = service.tags;","  }","  if (opts.dns) {","    var dns = utils.normalizeKeys(opts.dns);","    if (dns.ttl) body.DNS = { TTL: dns.ttl };","  }","","  req.body = body;","};","","/**"," * Module exports."," */","","exports.Query = Query;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"29":0,"32":0,"33":0,"35":0,"40":0,"42":0,"49":1,"50":0,"51":0,"54":0,"55":0,"57":0,"64":0,"65":0,"66":0,"67":0,"70":0,"73":0,"75":0,"82":1,"83":0,"84":0,"87":0,"88":0,"90":0,"97":0,"98":0,"101":0,"103":0,"110":1,"111":0,"112":0,"113":0,"116":0,"117":0,"119":0,"127":0,"128":0,"129":0,"130":0,"131":0,"134":0,"137":0,"139":0,"146":1,"147":0,"148":0,"151":0,"152":0,"154":0,"161":0,"162":0,"165":0,"167":0,"174":1,"175":0,"176":0,"179":0,"180":0,"182":0,"189":0,"190":0,"193":0,"195":0,"202":1,"203":0,"204":0,"207":0,"208":0,"210":0,"217":0,"218":0,"221":0,"223":0,"230":1,"231":0,"233":0,"234":0,"235":0,"236":0,"237":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"259":0,"260":0,"264":0,"265":0,"267":0,"269":0,"270":0,"271":0,"274":0,"281":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/session.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/session.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"Session","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":25}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":27},"end":{"line":26,"column":52}}},"3":{"name":"(anonymous_3)","line":59,"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":53}}},"4":{"name":"(anonymous_4)","line":87,"loc":{"start":{"line":87,"column":25},"end":{"line":87,"column":50}}},"5":{"name":"(anonymous_5)","line":117,"loc":{"start":{"line":117,"column":25},"end":{"line":117,"column":50}}},"6":{"name":"(anonymous_6)","line":144,"loc":{"start":{"line":144,"column":25},"end":{"line":144,"column":50}}},"7":{"name":"(anonymous_7)","line":167,"loc":{"start":{"line":167,"column":26},"end":{"line":167,"column":51}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":19,"column":2},"end":{"line":19,"column":23}},"5":{"start":{"line":26,"column":0},"end":{"line":53,"column":2}},"6":{"start":{"line":27,"column":2},"end":{"line":30,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":14}},"9":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"10":{"start":{"line":33,"column":2},"end":{"line":33,"column":53}},"11":{"start":{"line":35,"column":2},"end":{"line":41,"column":4}},"12":{"start":{"line":43,"column":2},"end":{"line":43,"column":58}},"13":{"start":{"line":43,"column":22},"end":{"line":43,"column":58}},"14":{"start":{"line":44,"column":2},"end":{"line":44,"column":43}},"15":{"start":{"line":44,"column":17},"end":{"line":44,"column":43}},"16":{"start":{"line":45,"column":2},"end":{"line":45,"column":43}},"17":{"start":{"line":45,"column":17},"end":{"line":45,"column":43}},"18":{"start":{"line":46,"column":2},"end":{"line":46,"column":49}},"19":{"start":{"line":46,"column":19},"end":{"line":46,"column":49}},"20":{"start":{"line":47,"column":2},"end":{"line":47,"column":55}},"21":{"start":{"line":47,"column":21},"end":{"line":47,"column":55}},"22":{"start":{"line":48,"column":2},"end":{"line":48,"column":40}},"23":{"start":{"line":48,"column":16},"end":{"line":48,"column":40}},"24":{"start":{"line":50,"column":2},"end":{"line":50,"column":27}},"25":{"start":{"line":52,"column":2},"end":{"line":52,"column":46}},"26":{"start":{"line":59,"column":0},"end":{"line":81,"column":2}},"27":{"start":{"line":60,"column":2},"end":{"line":62,"column":3}},"28":{"start":{"line":61,"column":4},"end":{"line":61,"column":24}},"29":{"start":{"line":64,"column":2},"end":{"line":64,"column":35}},"30":{"start":{"line":65,"column":2},"end":{"line":65,"column":53}},"31":{"start":{"line":67,"column":2},"end":{"line":72,"column":4}},"32":{"start":{"line":74,"column":2},"end":{"line":76,"column":3}},"33":{"start":{"line":75,"column":4},"end":{"line":75,"column":77}},"34":{"start":{"line":78,"column":2},"end":{"line":78,"column":27}},"35":{"start":{"line":80,"column":2},"end":{"line":80,"column":47}},"36":{"start":{"line":87,"column":0},"end":{"line":109,"column":2}},"37":{"start":{"line":88,"column":2},"end":{"line":90,"column":3}},"38":{"start":{"line":89,"column":4},"end":{"line":89,"column":24}},"39":{"start":{"line":92,"column":2},"end":{"line":92,"column":35}},"40":{"start":{"line":93,"column":2},"end":{"line":93,"column":53}},"41":{"start":{"line":95,"column":2},"end":{"line":100,"column":4}},"42":{"start":{"line":102,"column":2},"end":{"line":104,"column":3}},"43":{"start":{"line":103,"column":4},"end":{"line":103,"column":77}},"44":{"start":{"line":106,"column":2},"end":{"line":106,"column":27}},"45":{"start":{"line":108,"column":2},"end":{"line":108,"column":50}},"46":{"start":{"line":111,"column":0},"end":{"line":111,"column":47}},"47":{"start":{"line":117,"column":0},"end":{"line":138,"column":2}},"48":{"start":{"line":118,"column":2},"end":{"line":120,"column":3}},"49":{"start":{"line":119,"column":4},"end":{"line":119,"column":26}},"50":{"start":{"line":122,"column":2},"end":{"line":122,"column":35}},"51":{"start":{"line":123,"column":2},"end":{"line":123,"column":53}},"52":{"start":{"line":125,"column":2},"end":{"line":129,"column":4}},"53":{"start":{"line":131,"column":2},"end":{"line":133,"column":3}},"54":{"start":{"line":132,"column":4},"end":{"line":132,"column":79}},"55":{"start":{"line":135,"column":2},"end":{"line":135,"column":27}},"56":{"start":{"line":137,"column":2},"end":{"line":137,"column":46}},"57":{"start":{"line":144,"column":0},"end":{"line":161,"column":2}},"58":{"start":{"line":145,"column":2},"end":{"line":148,"column":3}},"59":{"start":{"line":146,"column":4},"end":{"line":146,"column":20}},"60":{"start":{"line":147,"column":4},"end":{"line":147,"column":14}},"61":{"start":{"line":150,"column":2},"end":{"line":150,"column":35}},"62":{"start":{"line":151,"column":2},"end":{"line":151,"column":53}},"63":{"start":{"line":153,"column":2},"end":{"line":156,"column":4}},"64":{"start":{"line":158,"column":2},"end":{"line":158,"column":27}},"65":{"start":{"line":160,"column":2},"end":{"line":160,"column":46}},"66":{"start":{"line":167,"column":0},"end":{"line":188,"column":2}},"67":{"start":{"line":168,"column":2},"end":{"line":170,"column":3}},"68":{"start":{"line":169,"column":4},"end":{"line":169,"column":24}},"69":{"start":{"line":172,"column":2},"end":{"line":172,"column":35}},"70":{"start":{"line":173,"column":2},"end":{"line":173,"column":53}},"71":{"start":{"line":175,"column":2},"end":{"line":179,"column":4}},"72":{"start":{"line":181,"column":2},"end":{"line":183,"column":3}},"73":{"start":{"line":182,"column":4},"end":{"line":182,"column":77}},"74":{"start":{"line":185,"column":2},"end":{"line":185,"column":27}},"75":{"start":{"line":187,"column":2},"end":{"line":187,"column":46}},"76":{"start":{"line":194,"column":0},"end":{"line":194,"column":26}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"2":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":2},"end":{"line":44,"column":2}},{"start":{"line":44,"column":2},"end":{"line":44,"column":2}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":46,"column":2}},{"start":{"line":46,"column":2},"end":{"line":46,"column":2}}]},"6":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"7":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":2},"end":{"line":48,"column":2}},{"start":{"line":48,"column":2},"end":{"line":48,"column":2}}]},"8":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":2},"end":{"line":60,"column":2}},{"start":{"line":60,"column":2},"end":{"line":60,"column":2}}]},"9":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"10":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]},"11":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"12":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":2},"end":{"line":118,"column":2}},{"start":{"line":118,"column":2},"end":{"line":118,"column":2}}]},"13":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":2},"end":{"line":131,"column":2}},{"start":{"line":131,"column":2},"end":{"line":131,"column":2}}]},"14":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":2},"end":{"line":145,"column":2}},{"start":{"line":145,"column":2},"end":{"line":145,"column":2}}]},"15":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":2},"end":{"line":168,"column":2}},{"start":{"line":168,"column":2},"end":{"line":168,"column":2}}]},"16":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":2},"end":{"line":181,"column":2}},{"start":{"line":181,"column":2},"end":{"line":181,"column":2}}]}},"code":["/**"," * Session manipulation"," */","","'use strict';","","/**"," * Module dependencies."," */","","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Session` client."," */","","function Session(consul) {","  this.consul = consul;","}","","/**"," * Creates a new session"," */","","Session.prototype.create = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'session.create',","    path: '/session/create',","    query: {},","    type: 'json',","    body: {},","  };","","  if (opts.lockdelay) req.body.LockDelay = opts.lockdelay;","  if (opts.name) req.body.Name = opts.name;","  if (opts.node) req.body.Node = opts.node;","  if (opts.checks) req.body.Checks = opts.checks;","  if (opts.behavior) req.body.Behavior = opts.behavior;","  if (opts.ttl) req.body.TTL = opts.ttl;","","  utils.options(req, opts);","","  this.consul._put(req, utils.body, callback);","};","","/**"," * Destroys a given session"," */","","Session.prototype.destroy = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'session.destroy',","    path: '/session/destroy/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._put(req, utils.empty, callback);","};","","/**"," * Queries a given session"," */","","Session.prototype.info = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'session.info',","    path: '/session/info/{id}',","    params: { id: opts.id },","    query: {},","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.bodyItem, callback);","};","","Session.prototype.get = Session.prototype.info;","","/**"," * Lists sessions belonging to a node"," */","","Session.prototype.node = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { node: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'session.node',","    path: '/session/node/{node}',","    params: { node: opts.node },","  };","","  if (!opts.node) {","    return callback(this.consul._err(errors.Validation('node required'), req));","  }","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Lists all the active sessions"," */","","Session.prototype.list = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'session.list',","    path: '/session/list',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Renews a TTL-based session"," */","","Session.prototype.renew = function(opts, callback) {","  if (typeof opts === 'string') {","    opts = { id: opts };","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'session.renew',","    path: '/session/renew/{id}',","    params: { id: opts.id },","  };","","  if (!opts.id) {","    return callback(this.consul._err(errors.Validation('id required'), req));","  }","","  utils.options(req, opts);","","  this.consul._put(req, utils.body, callback);","};","","/**"," * Module exports."," */","","exports.Session = Session;",""],"l":{"11":1,"12":1,"18":1,"19":0,"26":1,"27":0,"28":0,"29":0,"32":0,"33":0,"35":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"52":0,"59":1,"60":0,"61":0,"64":0,"65":0,"67":0,"74":0,"75":0,"78":0,"80":0,"87":1,"88":0,"89":0,"92":0,"93":0,"95":0,"102":0,"103":0,"106":0,"108":0,"111":1,"117":1,"118":0,"119":0,"122":0,"123":0,"125":0,"131":0,"132":0,"135":0,"137":0,"144":1,"145":0,"146":0,"147":0,"150":0,"151":0,"153":0,"158":0,"160":0,"167":1,"168":0,"169":0,"172":0,"173":0,"175":0,"181":0,"182":0,"185":0,"187":0,"194":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/status.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/status.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"Status","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":24}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":26},"end":{"line":25,"column":51}}},"3":{"name":"(anonymous_3)","line":48,"loc":{"start":{"line":48,"column":25},"end":{"line":48,"column":50}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}},"2":{"start":{"line":17,"column":0},"end":{"line":19,"column":1}},"3":{"start":{"line":18,"column":2},"end":{"line":18,"column":23}},"4":{"start":{"line":25,"column":0},"end":{"line":42,"column":2}},"5":{"start":{"line":26,"column":2},"end":{"line":29,"column":3}},"6":{"start":{"line":27,"column":4},"end":{"line":27,"column":20}},"7":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"8":{"start":{"line":31,"column":2},"end":{"line":31,"column":35}},"9":{"start":{"line":32,"column":2},"end":{"line":32,"column":53}},"10":{"start":{"line":34,"column":2},"end":{"line":37,"column":4}},"11":{"start":{"line":39,"column":2},"end":{"line":39,"column":27}},"12":{"start":{"line":41,"column":2},"end":{"line":41,"column":46}},"13":{"start":{"line":48,"column":0},"end":{"line":65,"column":2}},"14":{"start":{"line":49,"column":2},"end":{"line":52,"column":3}},"15":{"start":{"line":50,"column":4},"end":{"line":50,"column":20}},"16":{"start":{"line":51,"column":4},"end":{"line":51,"column":14}},"17":{"start":{"line":54,"column":2},"end":{"line":54,"column":35}},"18":{"start":{"line":55,"column":2},"end":{"line":55,"column":53}},"19":{"start":{"line":57,"column":2},"end":{"line":60,"column":4}},"20":{"start":{"line":62,"column":2},"end":{"line":62,"column":27}},"21":{"start":{"line":64,"column":2},"end":{"line":64,"column":46}},"22":{"start":{"line":71,"column":0},"end":{"line":71,"column":24}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]},"2":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]}},"code":["/**"," * Status information"," */","","'use strict';","","/**"," * Module dependencies."," */","","var utils = require('./utils');","","/**"," * Initialize a new `Status` client."," */","","function Status(consul) {","  this.consul = consul;","}","","/**"," * Returns the current Raft leader."," */","","Status.prototype.leader = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'status.leader',","    path: '/status/leader',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Returns the current Raft peer set"," */","","Status.prototype.peers = function(opts, callback) {","  if (!callback) {","    callback = opts;","    opts = {};","  }","","  opts = utils.normalizeKeys(opts);","  opts = utils.defaults(opts, this.consul._defaults);","","  var req = {","    name: 'status.peers',","    path: '/status/peers',","  };","","  utils.options(req, opts);","","  this.consul._get(req, utils.body, callback);","};","","/**"," * Module exports."," */","","exports.Status = Status;",""],"l":{"11":1,"17":1,"18":0,"25":1,"26":0,"27":0,"28":0,"31":0,"32":0,"34":0,"39":0,"41":0,"48":1,"49":0,"50":0,"51":0,"54":0,"55":0,"57":0,"62":0,"64":0,"71":1}},"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/watch.js":{"path":"/home/travis/build/npmtest/node-npmtest-consul/node_modules/consul/lib/watch.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1,"28":0,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"Watch","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":29}}},"2":{"name":"(anonymous_2)","line":42,"loc":{"start":{"line":42,"column":19},"end":{"line":42,"column":30}}},"3":{"name":"(anonymous_3)","line":59,"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":39}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":29},"end":{"line":69,"column":40}}},"5":{"name":"(anonymous_5)","line":79,"loc":{"start":{"line":79,"column":22},"end":{"line":79,"column":33}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":24},"end":{"line":91,"column":35}}},"7":{"name":"(anonymous_7)","line":99,"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":42}}},"8":{"name":"(anonymous_8)","line":108,"loc":{"start":{"line":108,"column":26},"end":{"line":108,"column":37}}},"9":{"name":"(anonymous_9)","line":115,"loc":{"start":{"line":115,"column":23},"end":{"line":115,"column":34}}},"10":{"name":"(anonymous_10)","line":124,"loc":{"start":{"line":124,"column":43},"end":{"line":124,"column":68}}},"11":{"name":"(anonymous_11)","line":141,"loc":{"start":{"line":141,"column":23},"end":{"line":141,"column":34}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}},"3":{"start":{"line":14,"column":0},"end":{"line":14,"column":33}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":31}},"5":{"start":{"line":21,"column":0},"end":{"line":43,"column":1}},"6":{"start":{"line":22,"column":2},"end":{"line":22,"column":18}},"7":{"start":{"line":24,"column":2},"end":{"line":24,"column":33}},"8":{"start":{"line":26,"column":2},"end":{"line":26,"column":35}},"9":{"start":{"line":28,"column":2},"end":{"line":28,"column":56}},"10":{"start":{"line":29,"column":2},"end":{"line":29,"column":54}},"11":{"start":{"line":30,"column":2},"end":{"line":30,"column":39}},"12":{"start":{"line":31,"column":2},"end":{"line":31,"column":39}},"13":{"start":{"line":33,"column":2},"end":{"line":33,"column":37}},"14":{"start":{"line":34,"column":2},"end":{"line":34,"column":26}},"15":{"start":{"line":35,"column":2},"end":{"line":35,"column":21}},"16":{"start":{"line":36,"column":2},"end":{"line":36,"column":29}},"17":{"start":{"line":38,"column":2},"end":{"line":40,"column":3}},"18":{"start":{"line":39,"column":4},"end":{"line":39,"column":47}},"19":{"start":{"line":42,"column":2},"end":{"line":42,"column":48}},"20":{"start":{"line":42,"column":32},"end":{"line":42,"column":44}},"21":{"start":{"line":45,"column":0},"end":{"line":45,"column":42}},"22":{"start":{"line":51,"column":0},"end":{"line":51,"column":16}},"23":{"start":{"line":57,"column":0},"end":{"line":57,"column":40}},"24":{"start":{"line":59,"column":0},"end":{"line":61,"column":2}},"25":{"start":{"line":60,"column":2},"end":{"line":60,"column":20}},"26":{"start":{"line":67,"column":0},"end":{"line":67,"column":41}},"27":{"start":{"line":69,"column":0},"end":{"line":71,"column":2}},"28":{"start":{"line":70,"column":2},"end":{"line":70,"column":26}},"29":{"start":{"line":77,"column":0},"end":{"line":77,"column":34}},"30":{"start":{"line":79,"column":0},"end":{"line":85,"column":2}},"31":{"start":{"line":80,"column":2},"end":{"line":80,"column":24}},"32":{"start":{"line":80,"column":17},"end":{"line":80,"column":24}},"33":{"start":{"line":81,"column":2},"end":{"line":81,"column":19}},"34":{"start":{"line":83,"column":2},"end":{"line":83,"column":22}},"35":{"start":{"line":84,"column":2},"end":{"line":84,"column":19}},"36":{"start":{"line":91,"column":0},"end":{"line":93,"column":2}},"37":{"start":{"line":92,"column":2},"end":{"line":92,"column":60}},"38":{"start":{"line":99,"column":0},"end":{"line":109,"column":2}},"39":{"start":{"line":100,"column":2},"end":{"line":100,"column":18}},"40":{"start":{"line":102,"column":2},"end":{"line":102,"column":24}},"41":{"start":{"line":102,"column":17},"end":{"line":102,"column":24}},"42":{"start":{"line":104,"column":2},"end":{"line":104,"column":31}},"43":{"start":{"line":106,"column":2},"end":{"line":106,"column":55}},"44":{"start":{"line":106,"column":37},"end":{"line":106,"column":55}},"45":{"start":{"line":108,"column":2},"end":{"line":108,"column":75}},"46":{"start":{"line":108,"column":39},"end":{"line":108,"column":51}},"47":{"start":{"line":115,"column":0},"end":{"line":146,"column":2}},"48":{"start":{"line":116,"column":2},"end":{"line":116,"column":18}},"49":{"start":{"line":118,"column":2},"end":{"line":118,"column":24}},"50":{"start":{"line":118,"column":17},"end":{"line":118,"column":24}},"51":{"start":{"line":120,"column":2},"end":{"line":120,"column":40}},"52":{"start":{"line":121,"column":2},"end":{"line":121,"column":18}},"53":{"start":{"line":123,"column":2},"end":{"line":145,"column":3}},"54":{"start":{"line":124,"column":4},"end":{"line":142,"column":7}},"55":{"start":{"line":125,"column":6},"end":{"line":127,"column":7}},"56":{"start":{"line":126,"column":8},"end":{"line":126,"column":35}},"57":{"start":{"line":129,"column":6},"end":{"line":129,"column":37}},"58":{"start":{"line":131,"column":6},"end":{"line":131,"column":25}},"59":{"start":{"line":133,"column":6},"end":{"line":133,"column":51}},"60":{"start":{"line":135,"column":6},"end":{"line":139,"column":7}},"61":{"start":{"line":136,"column":8},"end":{"line":136,"column":39}},"62":{"start":{"line":138,"column":8},"end":{"line":138,"column":39}},"63":{"start":{"line":141,"column":6},"end":{"line":141,"column":52}},"64":{"start":{"line":141,"column":36},"end":{"line":141,"column":48}},"65":{"start":{"line":144,"column":4},"end":{"line":144,"column":19}},"66":{"start":{"line":152,"column":0},"end":{"line":152,"column":22}}},"branchMap":{"1":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":36},"end":{"line":28,"column":48}},{"start":{"line":28,"column":52},"end":{"line":28,"column":54}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":17},"end":{"line":30,"column":29}},{"start":{"line":30,"column":33},"end":{"line":30,"column":38}}]},"3":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":18},"end":{"line":31,"column":31}},{"start":{"line":31,"column":35},"end":{"line":31,"column":38}}]},"4":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"5":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":2},"end":{"line":80,"column":2}},{"start":{"line":80,"column":2},"end":{"line":80,"column":2}}]},"6":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"7":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":2},"end":{"line":106,"column":2}},{"start":{"line":106,"column":2},"end":{"line":106,"column":2}}]},"8":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":6},"end":{"line":106,"column":9}},{"start":{"line":106,"column":13},"end":{"line":106,"column":35}}]},"9":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":2},"end":{"line":118,"column":2}},{"start":{"line":118,"column":2},"end":{"line":118,"column":2}}]},"10":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":125,"column":6}},{"start":{"line":125,"column":6},"end":{"line":125,"column":6}}]},"11":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":6}},{"start":{"line":135,"column":6},"end":{"line":135,"column":6}}]}},"code":["/**"," * Watch."," */","","'use strict';","","/**"," * Module dependencies."," */","","var events = require('events');","var util = require('util');","","var errors = require('./errors');","var utils = require('./utils');","","/**"," * Initialize a new `Watch` instance."," */","","function Watch(consul, opts) {","  var self = this;","","  events.EventEmitter.call(self);","","  opts = utils.normalizeKeys(opts);","","  var options = utils.normalizeKeys(opts.options || {});","  options = utils.defaults(options, consul._defaults);","  options.wait = options.wait || '30s';","  options.index = options.index || '0';","","  self._context = { consul: consul };","  self._options = options;","  self._attempts = 0;","  self._method = opts.method;","","  if (typeof opts.method !== 'function') {","    throw errors.Validation('method required');","  }","","  process.nextTick(function() { self._run(); });","}","","util.inherits(Watch, events.EventEmitter);","","/**"," * Object meta"," */","","Watch.meta = {};","","/**"," * Is running"," */","","Watch.meta.isRunning = { type: 'sync' };","","Watch.prototype.isRunning = function() {","  return !this._end;","};","","/**"," * Update time"," */","","Watch.meta.updateTime = { type: 'sync' };","","Watch.prototype.updateTime = function() {","  return this._updateTime;","};","","/**"," * End watch"," */","","Watch.meta.end = { type: 'sync' };","","Watch.prototype.end = function() {","  if (this._end) return;","  this._end = true;","","  this.emit('cancel');","  this.emit('end');","};","","/**"," * Wait"," */","","Watch.prototype._wait = function() {","  return Math.min(Math.pow(2, ++this._attempts), 256) * 100;","};","","/**"," * Error helper"," */","","Watch.prototype._err = function(err, res) {","  var self = this;","","  if (self._end) return;","","  self.emit('error', err, res);","","  if (res && res.statusCode === 400) return self.end();","","  utils.setTimeoutContext(function() { self._run(); }, self, self._wait());","};","","/**"," * Run"," */","","Watch.prototype._run = function() {","  var self = this;","","  if (self._end) return;","","  var opts = utils.clone(self._options);","  opts.ctx = self;","","  try {","    self._method.call(self._context, opts, function(err, data, res) {","      if (err) {","        return self._err(err, res);","      }","","      self._updateTime = +new Date();","","      self._attempts = 0;","","      var newIndex = res.headers['x-consul-index'];","","      if (utils.hasIndexChanged(newIndex, self._options.index)) {","        self._options.index = newIndex;","","        self.emit('change', data, res);","      }","","      process.nextTick(function() { self._run(); });","    });","  } catch (err) {","    self._err(err);","  }","};","","/**"," * Module exports."," */","","exports.Watch = Watch;",""],"l":{"11":1,"12":1,"14":1,"15":1,"21":1,"22":0,"24":0,"26":0,"28":0,"29":0,"30":0,"31":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"42":0,"45":1,"51":1,"57":1,"59":1,"60":0,"67":1,"69":1,"70":0,"77":1,"79":1,"80":0,"81":0,"83":0,"84":0,"91":1,"92":0,"99":1,"100":0,"102":0,"104":0,"106":0,"108":0,"115":1,"116":0,"118":0,"120":0,"121":0,"123":0,"124":0,"125":0,"126":0,"129":0,"131":0,"133":0,"135":0,"136":0,"138":0,"141":0,"144":0,"152":1}}}